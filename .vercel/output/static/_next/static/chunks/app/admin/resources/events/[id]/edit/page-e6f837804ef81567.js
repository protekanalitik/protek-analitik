(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7698,9349,62],{106:function(e,r,t){Promise.resolve().then(t.bind(t,1238))},1781:function(e,r,t){"use strict";t.d(r,{Y:function(){return a.Z},r:function(){return l.Z}});var a=t(3753),l=t(9186)},1238:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return c}});var a=t(7437),l=t(2265),s=t(4033),n=t(1396),i=t.n(n),o=t(1781),d=t(62);function c(){let e=(0,s.useRouter)(),r=(0,s.useParams)().id,[t,n]=(0,l.useState)(!1),[c,u]=(0,l.useState)(null),[m,g]=(0,l.useState)({title:"",description:"",content:"",event_type:"seminer",start_date:"",end_date:"",location:"",image_url:"",registration_url:"",is_featured:!1});(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/events/".concat(r)),t=await e.json();if(t.success){let e=t.data;u(e),g({title:e.title,description:e.description,content:e.content,event_type:e.event_type,start_date:e.start_date,end_date:e.end_date||"",location:e.location,image_url:e.image_url,registration_url:e.registration_url||"",is_featured:e.is_featured||!1})}}catch(e){console.error("Etkinlik y\xfckleme hatası:",e)}})()},[r]);let b=async t=>{t.preventDefault(),n(!0);try{let t={...m,end_date:m.end_date||void 0,registration_url:m.registration_url||void 0},a=await fetch("/api/events/".concat(r),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),l=await a.json();l.success?(alert("Etkinlik başarıyla g\xfcncellendi!"),e.push("/admin/resources")):alert("Hata: ".concat(l.error))}catch(e){console.error("Etkinlik g\xfcncelleme hatası:",e),alert("Hata: Etkinlik g\xfcncellenirken bir sorun oluştu.")}finally{n(!1)}};return c?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(i(),{href:"/admin/resources",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,a.jsx)(o.Y,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Etkinlik D\xfczenle"}),(0,a.jsxs)("p",{className:"text-gray-600",children:[c.title," - ID: ",c.id]})]})]})}),(0,a.jsx)("form",{onSubmit:b,className:"space-y-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Temel Bilgiler"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Etkinlik Adı *"}),(0,a.jsx)("input",{type:"text",required:!0,value:m.title,onChange:e=>g(r=>({...r,title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Etkinlik adını girin"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kısa A\xe7ıklama *"}),(0,a.jsx)("textarea",{required:!0,rows:3,value:m.description,onChange:e=>g(r=>({...r,description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Etkinlik'in a\xe7ıklamasını girin"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Etkinlik T\xfcr\xfc *"}),(0,a.jsx)("select",{required:!0,value:m.event_type,onChange:e=>g(r=>({...r,event_type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[{value:"fuar",label:"Fuar"},{value:"seminer",label:"Seminer"},{value:"webinar",label:"Webinar"},{value:"workshop",label:"Workshop"},{value:"konferans",label:"Konferans"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Başlangı\xe7 Tarihi *"}),(0,a.jsx)("input",{type:"date",required:!0,value:m.start_date,onChange:e=>g(r=>({...r,start_date:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bitiş Tarihi"}),(0,a.jsx)("input",{type:"date",value:m.end_date,onChange:e=>g(r=>({...r,end_date:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lokasyon *"}),(0,a.jsx)("input",{type:"text",required:!0,value:m.location,onChange:e=>g(r=>({...r,location:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\xd6rn: İstanbul Fuar Center, Online (Zoom)"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Etkinlik Detayları"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Detaylı İ\xe7erik (Markdown destekli) *"}),(0,a.jsx)("textarea",{required:!0,rows:15,value:m.content,onChange:e=>g(r=>({...r,content:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Etkinlik detaylarını markdown formatında yazın..."}),(0,a.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"Program, konuşmacılar, g\xfcndem gibi detayları markdown formatında ekleyebilirsiniz"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,a.jsx)(d.default,{value:m.image_url,onChange:e=>g(r=>({...r,image_url:e})),label:"Etkinlik G\xf6rseli"})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Kayıt Bilgileri"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kayıt URL'si"}),(0,a.jsx)("input",{type:"url",value:m.registration_url,onChange:e=>g(r=>({...r,registration_url:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com/kayit"}),(0,a.jsx)("div",{className:"mt-1 text-xs text-gray-500",children:"Katılımcıların kayıt olabileceği web sayfası linki"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"featured",checked:m.is_featured,onChange:e=>g(r=>({...r,is_featured:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,a.jsx)("label",{htmlFor:"featured",className:"ml-2 block text-sm text-gray-900",children:"\xd6ne \xe7ıkarılsın"})]})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,a.jsx)("button",{type:"submit",disabled:t,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"G\xfcncelleniyor..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.r,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Etkinliği G\xfcncelle"})]})})})]})]})})]}):(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Etkinlik bilgileri y\xfckleniyor..."})]})})}},62:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return o}});var a=t(7437),l=t(2265),s=t(7993),n=t(3524),i=t(6689);function o(e){let{value:r,onChange:t,label:o="Resim",className:d=""}=e,[c,u]=(0,l.useState)(!1),[m,g]=(0,l.useState)(!1),b=(0,l.useRef)(null),x=async e=>{if(!e.type.startsWith("image/")){alert("L\xfctfen sadece resim dosyası se\xe7in.");return}if(e.size>5242880){alert("Dosya boyutu 5MB'dan k\xfc\xe7\xfck olmalıdır.");return}u(!0);try{let a=new FormData;a.append("file",e);let l=await fetch("/api/upload",{method:"POST",body:a,credentials:"include"}),s=await l.json();if(console.log("Upload response:",s),s.success){var r;let e=(null===(r=s.data)||void 0===r?void 0:r.url)||s.url;console.log("Setting image URL:",e),t(e)}else alert(s.error||"Resim y\xfcklenirken hata oluştu.")}catch(e){console.error("Upload error:",e),alert("Resim y\xfcklenirken hata oluştu.")}finally{u(!1)}};return(0,a.jsxs)("div",{className:"space-y-4 ".concat(d),children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:o}),r&&(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:r,alt:"\xd6nizleme",className:"w-full h-48 object-cover rounded-lg border border-gray-200"}),(0,a.jsx)("button",{type:"button",onClick:()=>{t(""),b.current&&(b.current.value="")},className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors",children:(0,a.jsx)(i.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{onDrop:e=>{e.preventDefault(),g(!1);let r=Array.from(e.dataTransfer.files);r.length>0&&x(r[0])},onDragOver:e=>{e.preventDefault(),g(!0)},onDragLeave:()=>g(!1),className:"border-2 border-dashed rounded-lg p-6 text-center transition-colors ".concat(m?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[(0,a.jsx)("input",{ref:b,type:"file",accept:"image/*",onChange:e=>{let r=e.target.files;r&&r.length>0&&x(r[0])},className:"hidden"}),c?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Y\xfckleniyor..."})]}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Z,{className:"w-12 h-12 text-gray-400 mx-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{var e;return null===(e=b.current)||void 0===e?void 0:e.click()},className:"inline-flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,a.jsx)(s.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Dosya Se\xe7"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"veya dosyayı s\xfcr\xfckleyip bırakın"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"PNG, JPG, JPEG, WebP (Max: 5MB)"})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-gray-50 text-gray-500",children:"veya URL girin"})})]}),(0,a.jsx)("input",{type:"text",value:r&&r.startsWith("data:")?"":r||"",onChange:e=>t(e.target.value),placeholder:"https://example.com/image.jpg veya /images/product.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}},4033:function(e,r,t){e.exports=t(5313)},3753:function(e,r,t){"use strict";var a=t(2265);let l=a.forwardRef(function({title:e,titleId:r,...t},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))});r.Z=l},7993:function(e,r,t){"use strict";var a=t(2265);let l=a.forwardRef(function({title:e,titleId:r,...t},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))});r.Z=l},9186:function(e,r,t){"use strict";var a=t(2265);let l=a.forwardRef(function({title:e,titleId:r,...t},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});r.Z=l},3524:function(e,r,t){"use strict";var a=t(2265);let l=a.forwardRef(function({title:e,titleId:r,...t},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))});r.Z=l},6689:function(e,r,t){"use strict";var a=t(2265);let l=a.forwardRef(function({title:e,titleId:r,...t},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))});r.Z=l}},function(e){e.O(0,[1176,2971,993,1744],function(){return e(e.s=106)}),_N_E=e.O()}]);