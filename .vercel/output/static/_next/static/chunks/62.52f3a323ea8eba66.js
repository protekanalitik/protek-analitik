"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[62],{62:function(e,t,r){r.r(t),r.d(t,{default:function(){return i}});var a=r(7437),l=r(2265),s=r(7993),n=r(3524),o=r(6689);function i(e){let{value:t,onChange:r,label:i="Resim",className:c=""}=e,[d,u]=(0,l.useState)(!1),[m,h]=(0,l.useState)(!1),x=(0,l.useRef)(null),g=async e=>{if(!e.type.startsWith("image/")){alert("L\xfctfen sadece resim dosyası se\xe7in.");return}if(e.size>5242880){alert("Dosya boyutu 5MB'dan k\xfc\xe7\xfck olmalıdır.");return}u(!0);try{let a=new FormData;a.append("file",e);let l=await fetch("/api/upload",{method:"POST",body:a,credentials:"include"}),s=await l.json();if(console.log("Upload response:",s),s.success){var t;let e=(null===(t=s.data)||void 0===t?void 0:t.url)||s.url;console.log("Setting image URL:",e),r(e)}else alert(s.error||"Resim y\xfcklenirken hata oluştu.")}catch(e){console.error("Upload error:",e),alert("Resim y\xfcklenirken hata oluştu.")}finally{u(!1)}};return(0,a.jsxs)("div",{className:"space-y-4 ".concat(c),children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i}),t&&(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:t,alt:"\xd6nizleme",className:"w-full h-48 object-cover rounded-lg border border-gray-200"}),(0,a.jsx)("button",{type:"button",onClick:()=>{r(""),x.current&&(x.current.value="")},className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors",children:(0,a.jsx)(o.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{onDrop:e=>{e.preventDefault(),h(!1);let t=Array.from(e.dataTransfer.files);t.length>0&&g(t[0])},onDragOver:e=>{e.preventDefault(),h(!0)},onDragLeave:()=>h(!1),className:"border-2 border-dashed rounded-lg p-6 text-center transition-colors ".concat(m?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[(0,a.jsx)("input",{ref:x,type:"file",accept:"image/*",onChange:e=>{let t=e.target.files;t&&t.length>0&&g(t[0])},className:"hidden"}),d?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Y\xfckleniyor..."})]}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Z,{className:"w-12 h-12 text-gray-400 mx-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{var e;return null===(e=x.current)||void 0===e?void 0:e.click()},className:"inline-flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,a.jsx)(s.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Dosya Se\xe7"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"veya dosyayı s\xfcr\xfckleyip bırakın"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"PNG, JPG, JPEG, WebP (Max: 5MB)"})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-gray-50 text-gray-500",children:"veya URL girin"})})]}),(0,a.jsx)("input",{type:"text",value:t&&t.startsWith("data:")?"":t||"",onChange:e=>r(e.target.value),placeholder:"https://example.com/image.jpg veya /images/product.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}},7993:function(e,t,r){var a=r(2265);let l=a.forwardRef(function({title:e,titleId:t,...r},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))});t.Z=l},3524:function(e,t,r){var a=r(2265);let l=a.forwardRef(function({title:e,titleId:t,...r},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))});t.Z=l},6689:function(e,t,r){var a=r(2265);let l=a.forwardRef(function({title:e,titleId:t,...r},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))});t.Z=l}}]);