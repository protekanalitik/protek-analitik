"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7697,4649],{7697:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var l=r(7437),a=r(2265),n=r(8093),s=r(6602),i=r(7993),o=r(3524),c=r(5255),d=r(6689);function u(e){let{images:t=[],onChange:r,label:u="\xdcr\xfcn G\xf6rselleri",maxImages:m=10,className:h=""}=e,[g,p]=(0,a.useState)(!1),[b,x]=(0,a.useState)(!1),[f,v]=(0,a.useState)(""),y=(0,a.useRef)(null),k=async e=>{if(t.length+e.length>m){alert("En fazla ".concat(m," resim y\xfckleyebilirsiniz."));return}p(!0);try{var l;let a=new FormData,n=[];for(let t=0;t<e.length;t++){let r=e[t];if(!r.type.startsWith("image/")){alert("".concat(r.name," ge\xe7erli bir resim dosyası değil."));continue}if(r.size>5242880){alert("".concat(r.name," dosyası 5MB'dan b\xfcy\xfck."));continue}n.push(r),a.append("files",r)}if(0===n.length){p(!1);return}a.append("type","products");let s=await fetch("/api/upload",{method:"PUT",body:a,credentials:"include"}),i=await s.json();if(i.success&&(null===(l=i.data)||void 0===l?void 0:l.uploadedFiles)){let e=i.data.uploadedFiles.map(e=>e.url);r([...t,...e]),alert("".concat(e.length," resim başarıyla y\xfcklendi."))}else alert(i.error||"Resimler y\xfcklenirken hata oluştu.")}catch(e){console.error("Multiple upload error:",e),alert("Resimler y\xfcklenirken hata oluştu.")}finally{p(!1)}},j=()=>{if(f.trim()){if(/^(https?:\/\/|\/)/i.test(f.trim()),t.length>=m){alert("En fazla ".concat(m," resim ekleyebilirsiniz."));return}t.includes(f.trim())?alert("Bu resim zaten eklenmiş."):(r([...t,f.trim()]),v(""))}},w=e=>{r(t.filter((t,r)=>r!==e))},N=(e,l)=>{let a=[...t],n="up"===l?e-1:e+1;n>=0&&n<a.length&&([a[e],a[n]]=[a[n],a[e]],r(a))};return(0,l.jsxs)("div",{className:"space-y-4 ".concat(h),children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[u," (",t.length,"/",m,")"]}),t.length>0&&(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-4",children:t.map((e,r)=>(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsx)("img",{src:e,alt:"Resim ".concat(r+1),className:"w-full h-32 object-cover rounded-lg border border-gray-200",onError:e=>{let t=e.target;t.src="/images/lab-1.jpg",t.style.backgroundColor="#f3f4f6",t.style.color="#6b7280",t.alt="Resim y\xfcklenemiyor"}}),(0,l.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center space-x-2",children:[r>0&&(0,l.jsx)("button",{type:"button",onClick:()=>N(r,"up"),className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"Yukarı taşı",children:(0,l.jsx)(s.Z,{className:"w-4 h-4"})}),r<t.length-1&&(0,l.jsx)("button",{type:"button",onClick:()=>N(r,"down"),className:"p-1 bg-blue-600 text-white rounded hover:bg-blue-700",title:"Aşağı taşı",children:(0,l.jsx)(n.Z,{className:"w-4 h-4"})}),(0,l.jsx)("button",{type:"button",onClick:()=>w(r),className:"p-1 bg-red-600 text-white rounded hover:bg-red-700",title:"Sil",children:(0,l.jsx)(d.Z,{className:"w-4 h-4"})})]}),(0,l.jsx)("div",{className:"absolute top-2 left-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded",children:r+1})]},r))}),t.length<m&&(0,l.jsxs)("div",{onDrop:e=>{e.preventDefault(),x(!1);let t=e.dataTransfer.files;t.length>0&&k(t)},onDragOver:e=>{e.preventDefault(),x(!0)},onDragLeave:()=>x(!1),className:"border-2 border-dashed rounded-lg p-6 text-center transition-colors ".concat(b?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[(0,l.jsx)("input",{ref:y,type:"file",accept:"image/*",multiple:!0,onChange:e=>{let t=e.target.files;t&&t.length>0&&k(t)},className:"hidden"}),g?(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Y\xfckleniyor..."})]}):(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(o.Z,{className:"w-12 h-12 text-gray-400 mx-auto"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("button",{type:"button",onClick:()=>{var e;return null===(e=y.current)||void 0===e?void 0:e.click()},className:"inline-flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,l.jsx)(i.Z,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:"Resimler Se\xe7"})]}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"veya resimleri s\xfcr\xfckleyip bırakın"})]}),(0,l.jsx)("p",{className:"text-xs text-gray-400",children:"PNG, JPG, JPEG, WebP (Max: 5MB her biri)"})]})]}),t.length<m&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,l.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,l.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,l.jsx)("span",{className:"px-2 bg-gray-50 text-gray-500",children:"veya URL ile ekle"})})]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("input",{type:"text",value:f,onChange:e=>v(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),j()),placeholder:"https://example.com/image.jpg veya /images/product.jpg",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,l.jsx)("button",{type:"button",onClick:j,disabled:!f.trim(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 transition-colors",children:(0,l.jsx)(c.Z,{className:"w-4 h-4"})})]})]}),(0,l.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,l.jsx)("p",{children:"• İlk resim ana \xfcr\xfcn resmi olarak kullanılır"}),(0,l.jsx)("p",{children:"• Resimleri sıralamak i\xe7in \xfczerine gelin ve ok butonlarını kullanın"}),(0,l.jsx)("p",{children:"• Yerel dosya yolları (/images/...) da kullanabilirsiniz"})]})]})}},8093:function(e,t,r){var l=r(2265);let a=l.forwardRef(function({title:e,titleId:t,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))});t.Z=a},6602:function(e,t,r){var l=r(2265);let a=l.forwardRef(function({title:e,titleId:t,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))});t.Z=a},7993:function(e,t,r){var l=r(2265);let a=l.forwardRef(function({title:e,titleId:t,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))});t.Z=a},3524:function(e,t,r){var l=r(2265);let a=l.forwardRef(function({title:e,titleId:t,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))});t.Z=a},5255:function(e,t,r){var l=r(2265);let a=l.forwardRef(function({title:e,titleId:t,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});t.Z=a},6689:function(e,t,r){var l=r(2265);let a=l.forwardRef(function({title:e,titleId:t,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))});t.Z=a}}]);