var m={},C=(w,D,_)=>(m.__chunk_1979=(R,g,r)=>{"use strict";r.d(g,{Z:()=>y});var e=r(6485),o=r(5579),p=r(2457),h=r(2850),b=r(476);function y({value:t,onChange:c,label:f="Resim",className:j=""}){let[v,d]=(0,o.useState)(!1),[N,i]=(0,o.useState)(!1),n=(0,o.useRef)(null),x=async a=>{if(!a.type.startsWith("image/")){alert("L\xFCtfen sadece resim dosyas\u0131 se\xE7in.");return}if(a.size>5242880){alert("Dosya boyutu 5MB'dan k\xFC\xE7\xFCk olmal\u0131d\u0131r.");return}d(!0);try{let s=new FormData;s.append("file",a);let k=await fetch("/api/upload",{method:"POST",body:s,credentials:"include"}),l=await k.json();if(console.log("Upload response:",l),l.success){let u=l.data?.url||l.url;console.log("Setting image URL:",u),c(u)}else alert(l.error||"Resim y\xFCklenirken hata olu\u015Ftu.")}catch(s){console.error("Upload error:",s),alert("Resim y\xFCklenirken hata olu\u015Ftu.")}finally{d(!1)}};return(0,e.jsxs)("div",{className:`space-y-4 ${j}`,children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f}),t&&(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("img",{src:t,alt:"\xD6nizleme",className:"w-full h-48 object-cover rounded-lg border border-gray-200"}),(0,e.jsx)("button",{type:"button",onClick:()=>{c(""),n.current&&(n.current.value="")},className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors",children:(0,e.jsx)(b.Z,{className:"w-4 h-4"})})]}),(0,e.jsxs)("div",{onDrop:a=>{a.preventDefault(),i(!1);let s=Array.from(a.dataTransfer.files);s.length>0&&x(s[0])},onDragOver:a=>{a.preventDefault(),i(!0)},onDragLeave:()=>i(!1),className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${N?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[(0,e.jsx)("input",{ref:n,type:"file",accept:"image/*",onChange:a=>{let s=a.target.files;s&&s.length>0&&x(s[0])},className:"hidden"}),v?(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto"}),(0,e.jsx)("p",{className:"text-sm text-gray-600",children:"Y\xFCkleniyor..."})]}):(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(h.Z,{className:"w-12 h-12 text-gray-400 mx-auto"}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("button",{type:"button",onClick:()=>n.current?.click(),className:"inline-flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,e.jsx)(p.Z,{className:"w-4 h-4"}),(0,e.jsx)("span",{children:"Dosya Se\xE7"})]}),(0,e.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"veya dosyay\u0131 s\xFCr\xFCkleyip b\u0131rak\u0131n"})]}),(0,e.jsx)("p",{className:"text-xs text-gray-400",children:"PNG, JPG, JPEG, WebP (Max: 5MB)"})]})]}),(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,e.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,e.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,e.jsx)("span",{className:"px-2 bg-gray-50 text-gray-500",children:"veya URL girin"})})]}),(0,e.jsx)("input",{type:"text",value:t&&t.startsWith("data:")?"":t||"",onChange:a=>c(a.target.value),placeholder:"https://example.com/image.jpg veya /images/product.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}},m);export{C as __getNamedExports};
