var l={},m=(D,_,N)=>(l.__chunk_119=(f,E,o)=>{"use strict";o.d(E,{$X:()=>d,C4:()=>I,Gl:()=>R,MN:()=>S,jl:()=>n,x_:()=>i});var c=o(4040);function i(e,t,r){let s={success:!0,message:t,data:e,meta:{timestamp:new Date().toISOString(),version:"1.0.0",...r}};return c.Z.json(s)}function n(e,t,r=400,s){let u={success:!1,error:e,code:t,meta:{timestamp:new Date().toISOString(),version:"1.0.0",...s}};return c.Z.json(u,{status:r})}let I={MISSING_TOKEN:()=>n("Authentication token required","MISSING_TOKEN",401),INVALID_TOKEN:()=>n("Invalid or expired token","INVALID_TOKEN",401),INSUFFICIENT_PERMISSIONS:()=>n("Insufficient permissions","INSUFFICIENT_PERMISSIONS",403),RATE_LIMITED:e=>{let t=n("Too many requests. Please try again later.","RATE_LIMITED",429);return e&&t.headers.set("Retry-After",e.toString()),t}},R={NOT_FOUND:(e="Resource")=>n(`${e} not found`,"NOT_FOUND",404),ALREADY_EXISTS:(e="Resource")=>n(`${e} already exists`,"ALREADY_EXISTS",409),SERVER_ERROR:(e="Internal server error")=>n(e,"SERVER_ERROR",500),BAD_REQUEST:(e="Bad request")=>n(e,"BAD_REQUEST",400),FORBIDDEN:(e="Access forbidden")=>n(e,"FORBIDDEN",403)},d={CREATED:(e,t="Resource")=>i(e,`${t} created successfully`),UPDATED:(e,t="Resource")=>i(e,`${t} updated successfully`),DELETED:(e="Resource")=>i(null,`${e} deleted successfully`),FETCHED:(e,t="Resource")=>i(e,`${t} fetched successfully`)};function S(e,t){let r=t.filter(s=>e[s]===void 0||e[s]===null||e[s]==="");return{isValid:r.length===0,missingFields:r}}class T{static{this.requests=new Map}static isRateLimited(t,r=100,s=6e4){let u=Date.now(),a=this.requests.get(t);return!a||u>a.resetTime?(this.requests.set(t,{count:1,resetTime:u+s}),!1):a.count>=r||(a.count++,!1)}static getRemainingRequests(t,r=100){let s=this.requests.get(t);return s?Math.max(0,r-s.count):r}static cleanup(){let t=Date.now();for(let[r,s]of Array.from(this.requests.entries()))t>s.resetTime&&this.requests.delete(r)}}typeof setInterval<"u"&&setInterval(()=>{T.cleanup()},3e5)},l);export{m as __getNamedExports};
