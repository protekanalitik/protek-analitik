var Sr=Object.defineProperty;var da=Object.getOwnPropertyDescriptor;var ua=Object.getOwnPropertyNames;var fa=Object.prototype.hasOwnProperty;var pt=(z,B)=>()=>(z&&(B=z(z=0)),B);var xt=(z,B,Oe,G)=>{if(B&&typeof B=="object"||typeof B=="function")for(let W of ua(B))!fa.call(z,W)&&W!==Oe&&Sr(z,W,{get:()=>B[W],enumerable:!(G=da(B,W))||G.enumerable});return z},he=(z,B,Oe)=>(xt(z,B,"default"),Oe&&xt(Oe,B,"default"));var ht=z=>xt(Sr({},"__esModule",{value:!0}),z);var Ke={};import*as Fs from"node:async_hooks";var Rr=pt(()=>{he(Ke,Fs)});var He={};import*as Bs from"node:buffer";var wr=pt(()=>{he(He,Bs)});var je={};import*as Vs from"async_hooks";var Ar=pt(()=>{he(je,Vs)});var gt=globalThis.__nextOnPagesRoutesIsolation.getProxyFor("/src/middleware"),Gs=((z,B,Oe)=>(B._ENTRIES={},z.__PRERENDER_MANIFEST='{"version":4,"routes":{},"dynamicRoutes":{},"notFoundRoutes":[],"preview":{"previewModeId":"eb652a4d9c20992daab59d60be840cf8","previewModeSigningKey":"b47de7fd81def8299c8740dceb48ee9e8218ebd847e384a6aa15bbb56d4db62f","previewModeEncryptionKey":"e01ab5e3fa614ee5c8cb375ebac0305ab73a0d3fa03143facfd7274b2bc4255f"}}',(()=>{"use strict";var G={},W={};function M(C){var $=W[C];if($!==void 0)return $.exports;var U=W[C]={exports:{}},D=!0;try{G[C](U,U.exports,M),D=!1}finally{D&&delete W[C]}return U.exports}M.m=G,(()=>{var C=[];M.O=($,U,D,F)=>{if(U){F=F||0;for(var h=C.length;h>0&&C[h-1][2]>F;h--)C[h]=C[h-1];C[h]=[U,D,F];return}for(var o=1/0,h=0;h<C.length;h++){for(var[U,D,F]=C[h],u=!0,c=0;c<U.length;c++)(F&!1||o>=F)&&Object.keys(M.O).every(R=>M.O[R](U[c]))?U.splice(c--,1):(u=!1,F<o&&(o=F));if(u){C.splice(h--,1);var x=D();x!==void 0&&($=x)}}return $}})(),M.n=C=>{var $=C&&C.__esModule?()=>C.default:()=>C;return M.d($,{a:$}),$},M.d=(C,$)=>{for(var U in $)M.o($,U)&&!M.o(C,U)&&Object.defineProperty(C,U,{enumerable:!0,get:$[U]})},M.e=()=>Promise.resolve(),M.g=function(){if(typeof B=="object")return B;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),M.o=(C,$)=>Object.prototype.hasOwnProperty.call(C,$),M.r=C=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},(()=>{var C={993:0};M.O.j=D=>C[D]===0;var $=(D,F)=>{var[h,o,u]=F,c,x,l=0;if(h.some(p=>C[p]!==0)){for(c in o)M.o(o,c)&&(M.m[c]=o[c]);if(u)var f=u(M)}for(D&&D(F);l<h.length;l++)x=h[l],M.o(C,x)&&C[x]&&C[x][0](),C[x]=0;return M.O(f)},U=z.webpackChunk_N_E=z.webpackChunk_N_E||[];U.forEach($.bind(null,0)),U.push=$.bind(null,U.push.bind(U))})()})(),(z.webpackChunk_N_E=z.webpackChunk_N_E||[]).push([[727],{2067:G=>{"use strict";G.exports=(Rr(),ht(Ke))},6195:G=>{"use strict";G.exports=(wr(),ht(He))},468:()=>{},4610:(G,W,M)=>{"use strict";M.r(W),M.d(W,{default:()=>ia});var C={};M.r(C),M.d(C,{config:()=>sa,middleware:()=>oa});async function $(){if("globalThis._ENTRIES"in B&&B._ENTRIES.middleware_instrumentation&&B._ENTRIES.middleware_instrumentation.register)try{await B._ENTRIES.middleware_instrumentation.register()}catch(t){throw t.message=`An error occurred while loading instrumentation hook: ${t.message}`,t}}let U=null;function D(){return U||(U=$()),U}function F(t){return`The edge runtime does not support Node.js '${t}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}function h(t){let e=new Proxy(function(){},{get(r,n){if(n==="then")return{};throw new Error(F(t))},construct(){throw new Error(F(t))},apply(r,n,a){if(typeof a[0]=="function")return a[0](e);throw new Error(F(t))}});return new Proxy({},{get:()=>e})}function o(){process!==M.g.process&&(process.env=M.g.process.env,M.g.process=process),Object.defineProperty(B,"__import_unsupported",{value:h,enumerable:!1,configurable:!0}),D()}o();class u extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class c extends Error{constructor(){super("The request.page has been deprecated in favour of `URLPattern`.\n  Read more: https://nextjs.org/docs/messages/middleware-request-page\n  ")}}class x extends Error{constructor(){super("The request.ua has been removed in favour of `userAgent` function.\n  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent\n  ")}}function l(t){let e=new Headers;for(let[r,n]of Object.entries(t)){let a=Array.isArray(n)?n:[n];for(let s of a)typeof s>"u"||(typeof s=="number"&&(s=s.toString()),e.append(r,s))}return e}function f(t){var e=[],r=0,n,a,s,d,g;function m(){for(;r<t.length&&/\s/.test(t.charAt(r));)r+=1;return r<t.length}function w(){return a=t.charAt(r),a!=="="&&a!==";"&&a!==","}for(;r<t.length;){for(n=r,g=!1;m();)if(a=t.charAt(r),a===","){for(s=r,r+=1,m(),d=r;r<t.length&&w();)r+=1;r<t.length&&t.charAt(r)==="="?(g=!0,r=d,e.push(t.substring(n,s)),n=r):r=s+1}else r+=1;(!g||r>=t.length)&&e.push(t.substring(n,t.length))}return e}function p(t){let e={},r=[];if(t)for(let[n,a]of t.entries())n.toLowerCase()==="set-cookie"?(r.push(...f(a)),e[n]=r.length===1?r[0]:r):e[n]=a;return e}function b(t){try{return String(new URL(String(t)))}catch(e){throw new Error(`URL is malformed "${String(t)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:e})}}let R=Symbol("response"),y=Symbol("passThrough"),v=Symbol("waitUntil");class I{constructor(e){this[v]=[],this[y]=!1}respondWith(e){this[R]||(this[R]=Promise.resolve(e))}passThroughOnException(){this[y]=!0}waitUntil(e){this[v].push(e)}}class A extends I{constructor(e){super(e.request),this.sourcePage=e.page}get request(){throw new u({page:this.sourcePage})}respondWith(){throw new u({page:this.sourcePage})}}function i(t,e,r){if(!!t){r&&(r=r.toLowerCase());for(let s of t){var n,a;let d=(n=s.domain)==null?void 0:n.split(":",1)[0].toLowerCase();if(e===d||r===s.defaultLocale.toLowerCase()||((a=s.locales)==null?void 0:a.some(g=>g.toLowerCase()===r)))return s}}}function _(t){return t.replace(/\/$/,"")||"/"}function E(t){let e=t.indexOf("#"),r=t.indexOf("?"),n=r>-1&&(e<0||r<e);return n||e>-1?{pathname:t.substring(0,n?r:e),query:n?t.substring(r,e>-1?e:void 0):"",hash:e>-1?t.slice(e):""}:{pathname:t,query:"",hash:""}}function N(t,e){if(!t.startsWith("/")||!e)return t;let{pathname:r,query:n,hash:a}=E(t);return""+e+r+n+a}function O(t,e){if(!t.startsWith("/")||!e)return t;let{pathname:r,query:n,hash:a}=E(t);return""+r+e+n+a}function S(t,e){if(typeof t!="string")return!1;let{pathname:r}=E(t);return r===e||r.startsWith(e+"/")}function K(t,e,r,n){if(!e||e===r)return t;let a=t.toLowerCase();return!n&&(S(a,"/api")||S(a,"/"+e.toLowerCase()))?t:N(t,"/"+e)}function k(t){let e=K(t.pathname,t.locale,t.buildId?void 0:t.defaultLocale,t.ignorePrefix);return(t.buildId||!t.trailingSlash)&&(e=_(e)),t.buildId&&(e=O(N(e,"/_next/data/"+t.buildId),t.pathname==="/"?"index.json":".json")),e=N(e,t.basePath),!t.buildId&&t.trailingSlash?e.endsWith("/")?e:O(e,"/"):_(e)}function j(t,e){let r;if(e?.host&&!Array.isArray(e.host))r=e.host.toString().split(":",1)[0];else if(t.hostname)r=t.hostname;else return;return r.toLowerCase()}function Q(t,e){let r,n=t.split("/");return(e||[]).some(a=>n[1]&&n[1].toLowerCase()===a.toLowerCase()?(r=a,n.splice(1,1),t=n.join("/")||"/",!0):!1),{pathname:t,detectedLocale:r}}function Z(t,e){if(!S(t,e))return t;let r=t.slice(e.length);return r.startsWith("/")?r:"/"+r}function oe(t,e){var r;let{basePath:n,i18n:a,trailingSlash:s}=(r=e.nextConfig)!=null?r:{},d={pathname:t,trailingSlash:t!=="/"?t.endsWith("/"):s};n&&S(d.pathname,n)&&(d.pathname=Z(d.pathname,n),d.basePath=n);let g=d.pathname;if(d.pathname.startsWith("/_next/data/")&&d.pathname.endsWith(".json")){let w=d.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),P=w[0];d.buildId=P,g=w[1]!=="index"?"/"+w.slice(1).join("/"):"/",e.parseData===!0&&(d.pathname=g)}if(a){let w=e.i18nProvider?e.i18nProvider.analyze(d.pathname):Q(d.pathname,a.locales);d.locale=w.detectedLocale;var m;d.pathname=(m=w.pathname)!=null?m:d.pathname,!w.detectedLocale&&d.buildId&&(w=e.i18nProvider?e.i18nProvider.analyze(g):Q(g,a.locales),w.detectedLocale&&(d.locale=w.detectedLocale))}return d}let se=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function re(t,e){return new URL(String(t).replace(se,"localhost"),e&&String(e).replace(se,"localhost"))}let T=Symbol("NextURLInternal");class ue{constructor(e,r,n){let a,s;typeof r=="object"&&"pathname"in r||typeof r=="string"?(a=r,s=n||{}):s=n||r||{},this[T]={url:re(e,a??s.base),options:s,basePath:""},this.analyze()}analyze(){var e,r,n,a,s;let d=oe(this[T].url.pathname,{nextConfig:this[T].options.nextConfig,parseData:!0,i18nProvider:this[T].options.i18nProvider}),g=j(this[T].url,this[T].options.headers);this[T].domainLocale=this[T].options.i18nProvider?this[T].options.i18nProvider.detectDomainLocale(g):i((r=this[T].options.nextConfig)==null||(e=r.i18n)==null?void 0:e.domains,g);let m=((n=this[T].domainLocale)==null?void 0:n.defaultLocale)||((s=this[T].options.nextConfig)==null||(a=s.i18n)==null?void 0:a.defaultLocale);this[T].url.pathname=d.pathname,this[T].defaultLocale=m,this[T].basePath=d.basePath??"",this[T].buildId=d.buildId,this[T].locale=d.locale??m,this[T].trailingSlash=d.trailingSlash}formatPathname(){return k({basePath:this[T].basePath,buildId:this[T].buildId,defaultLocale:this[T].options.forceLocale?void 0:this[T].defaultLocale,locale:this[T].locale,pathname:this[T].url.pathname,trailingSlash:this[T].trailingSlash})}formatSearch(){return this[T].url.search}get buildId(){return this[T].buildId}set buildId(e){this[T].buildId=e}get locale(){return this[T].locale??""}set locale(e){var r,n;if(!this[T].locale||!(!((n=this[T].options.nextConfig)==null||(r=n.i18n)==null)&&r.locales.includes(e)))throw new TypeError(`The NextURL configuration includes no locale "${e}"`);this[T].locale=e}get defaultLocale(){return this[T].defaultLocale}get domainLocale(){return this[T].domainLocale}get searchParams(){return this[T].url.searchParams}get host(){return this[T].url.host}set host(e){this[T].url.host=e}get hostname(){return this[T].url.hostname}set hostname(e){this[T].url.hostname=e}get port(){return this[T].url.port}set port(e){this[T].url.port=e}get protocol(){return this[T].url.protocol}set protocol(e){this[T].url.protocol=e}get href(){let e=this.formatPathname(),r=this.formatSearch();return`${this.protocol}//${this.host}${e}${r}${this.hash}`}set href(e){this[T].url=re(e),this.analyze()}get origin(){return this[T].url.origin}get pathname(){return this[T].url.pathname}set pathname(e){this[T].url.pathname=e}get hash(){return this[T].url.hash}set hash(e){this[T].url.hash=e}get search(){return this[T].url.search}set search(e){this[T].url.search=e}get password(){return this[T].url.password}set password(e){this[T].url.password=e}get username(){return this[T].url.username}set username(e){this[T].url.username=e}get basePath(){return this[T].basePath}set basePath(e){this[T].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new ue(String(this),this[T].options)}}var Se=M(1170);let Re=Symbol("internal request");class Tr extends Request{constructor(e,r={}){let n=typeof e!="string"&&"url"in e?e.url:String(e);b(n),e instanceof Request?super(e,r):super(n,r);let a=new ue(n,{headers:p(this.headers),nextConfig:r.nextConfig});this[Re]={cookies:new Se.RequestCookies(this.headers),geo:r.geo||{},ip:r.ip,nextUrl:a,url:a.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[Re].cookies}get geo(){return this[Re].geo}get ip(){return this[Re].ip}get nextUrl(){return this[Re].nextUrl}get page(){throw new c}get ua(){throw new x}get url(){return this[Re].url}}let bt=Symbol("internal response"),Pr=new Set([301,302,303,307,308]);function mt(t,e){var r;if(!(t==null||(r=t.request)==null)&&r.headers){if(!(t.request.headers instanceof Headers))throw new Error("request.headers must be an instance of Headers");let n=[];for(let[a,s]of t.request.headers)e.set("x-middleware-request-"+a,s),n.push(a);e.set("x-middleware-override-headers",n.join(","))}}class te extends Response{constructor(e,r={}){super(e,r),this[bt]={cookies:new Se.ResponseCookies(this.headers),url:r.url?new ue(r.url,{headers:p(this.headers),nextConfig:r.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[bt].cookies}static json(e,r){let n=Response.json(e,r);return new te(n.body,n)}static redirect(e,r){let n=typeof r=="number"?r:r?.status??307;if(!Pr.has(n))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');let a=typeof r=="object"?r:{},s=new Headers(a?.headers);return s.set("Location",b(e)),new te(null,{...a,headers:s,status:n})}static rewrite(e,r){let n=new Headers(r?.headers);return n.set("x-middleware-rewrite",b(e)),mt(r,n),new te(null,{...r,headers:n})}static next(e){let r=new Headers(e?.headers);return r.set("x-middleware-next","1"),mt(e,r),new te(null,{...e,headers:r})}}function yt(t,e){let r=typeof e=="string"?new URL(e):e,n=new URL(t,e),a=r.protocol+"//"+r.host;return n.protocol+"//"+n.host===a?n.toString().replace(a,""):n.toString()}let _t="RSC",la="Next-Action",Et="Next-Router-State-Tree",vt="Next-Router-Prefetch",Ir="Next-Url",xa="text/x-component",pa=_t+", "+Et+", "+vt+", "+Ir,St=[[_t],[Et],[vt]],Cr="_rsc",ha="x-nextjs-postponed";var ga=M(687);let Ve={client:"client",server:"server",edgeServer:"edge-server"},ba=null,ma={[Ve.client]:0,[Ve.server]:1,[Ve.edgeServer]:2},ya="phase-export",_a="phase-production-build",Ea="phase-production-server",va="phase-development-server",Sa="phase-test",Ra="phase-info",wa="pages-manifest.json",Aa="app-paths-manifest.json",Ta="app-path-routes-manifest.json",Pa="build-manifest.json",Ia="app-build-manifest.json",Ca="functions-config-manifest.json",Oa="subresource-integrity-manifest",Na="next-font-manifest",Ma="export-marker.json",La="export-detail.json",Da="prerender-manifest.json",ka="routes-manifest.json",Ua="images-manifest.json",Ka="required-server-files.json",Ha="_devPagesManifest.json",ja="middleware-manifest.json",$a="_devMiddlewareManifest.json",Wa="react-loadable-manifest.json",Fa="font-manifest.json",Ba="server",Va=null,Ga="BUILD_ID",Ja=null,qa="public",Xa="static",za="__NEXT_DROP_CLIENT_FILE__",Ya="__NEXT_BUILTIN_DOCUMENT__",Qa="__barrel_optimize__",Za="client-reference-manifest",eo="server-reference-manifest",to="middleware-build-manifest",ro="middleware-react-loadable-manifest",Rt="main",Or=""+Rt+"-app",no="app-pages-internals",Nr="react-refresh",Mr="amp",ao="webpack",so=Symbol("polyfills"),io="edge-runtime-webpack",co="__N_SSG",uo="__N_SSP",fo="__PAGE__",xo=[{url:"https://fonts.googleapis.com/",preconnect:"https://fonts.gstatic.com"},{url:"https://use.typekit.net",preconnect:"https://use.typekit.net"}],po={name:"Times New Roman",xAvgCharWidth:821,azAvgWidth:854.3953488372093,unitsPerEm:2048},ho={name:"Arial",xAvgCharWidth:904,azAvgWidth:934.5116279069767,unitsPerEm:2048},go=null,bo=1,mo=6e3,yo={client:"client",server:"server"},_o=null,Eo=new Set([Rt,Nr,Mr,Or]),wt=["__nextFallback","__nextLocale","__nextInferredLocaleFromDefault","__nextDefaultLocale","__nextIsNotFound",Cr],Lr=["__nextDataReq"];function vo(t){for(let e of wt)delete t[e]}function Dr(t,e){let r=typeof t=="string",n=r?new URL(t):t;for(let a of wt)n.searchParams.delete(a);if(e)for(let a of Lr)n.searchParams.delete(a);return r?n.toString():n}function So(t){for(let e of INTERNAL_HEADERS)delete t[e]}function Ro(t){return ensureLeadingSlash(t.split("/").reduce((e,r,n,a)=>!r||isGroupSegment(r)||r[0]==="@"||(r==="page"||r==="route")&&n===a.length-1?e:e+"/"+r,""))}function kr(t){return t.replace(/\.rsc($|\?)/,"$1")}let Ge="nxtP",Ur="x-prerender-revalidate",Kr="x-prerender-revalidate-if-generated",wo=".prefetch.rsc",Ao=".rsc",To=".json",Po=".meta",Io=".body",Co="x-next-cache-tags",Oo="x-next-cache-soft-tags",No="x-next-revalidated-tags",Mo="x-next-revalidate-tag-token",Lo=256,Do=1024,ko="_N_T_",Uo=31536e3,Ko="middleware",Ho=null,jo="instrumentation",$o="private-next-pages",Wo="private-dot-next",Fo="private-next-root-dir",Bo="private-next-app-dir",Vo="private-next-rsc-mod-ref-proxy",Go="private-next-rsc-action-validate",Jo="private-next-rsc-action-proxy",qo="private-next-rsc-action-encryption",Xo="private-next-rsc-action-client-wrapper",zo=null,Yo=null,Qo=null,Zo=null,es=null,ts=null,rs="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",ns="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",as=null,os=null,ss=null,is=null,cs=null,ds=[{title:"Strict",recommended:!0,config:{extends:"next/core-web-vitals"}},{title:"Base",config:{extends:"next"}},{title:"Cancel",config:null}],us={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},ae={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",appMetadataRoute:"app-metadata-route",appRouteHandler:"app-route-handler"},fs={...ae,GROUP:{server:[ae.reactServerComponents,ae.actionBrowser,ae.appMetadataRoute,ae.appRouteHandler],nonClientServerTarget:[ae.middleware,ae.api],app:[ae.reactServerComponents,ae.actionBrowser,ae.appMetadataRoute,ae.appRouteHandler,ae.serverSideRendering,ae.appPagesBrowser]}},ls={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"};class ce{static get(e,r,n){let a=Reflect.get(e,r,n);return typeof a=="function"?a.bind(e):a}static set(e,r,n,a){return Reflect.set(e,r,n,a)}static has(e,r){return Reflect.has(e,r)}static deleteProperty(e,r){return Reflect.deleteProperty(e,r)}}class Je extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new Je}}class me extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(r,n,a){if(typeof n=="symbol")return ce.get(r,n,a);let s=n.toLowerCase(),d=Object.keys(e).find(g=>g.toLowerCase()===s);if(!(typeof d>"u"))return ce.get(r,d,a)},set(r,n,a,s){if(typeof n=="symbol")return ce.set(r,n,a,s);let d=n.toLowerCase(),g=Object.keys(e).find(m=>m.toLowerCase()===d);return ce.set(r,g??n,a,s)},has(r,n){if(typeof n=="symbol")return ce.has(r,n);let a=n.toLowerCase(),s=Object.keys(e).find(d=>d.toLowerCase()===a);return typeof s>"u"?!1:ce.has(r,s)},deleteProperty(r,n){if(typeof n=="symbol")return ce.deleteProperty(r,n);let a=n.toLowerCase(),s=Object.keys(e).find(d=>d.toLowerCase()===a);return typeof s>"u"?!0:ce.deleteProperty(r,s)}})}static seal(e){return new Proxy(e,{get(r,n,a){switch(n){case"append":case"delete":case"set":return Je.callable;default:return ce.get(r,n,a)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new me(e)}append(e,r){let n=this.headers[e];typeof n=="string"?this.headers[e]=[n,r]:Array.isArray(n)?n.push(r):this.headers[e]=r}delete(e){delete this.headers[e]}get(e){let r=this.headers[e];return typeof r<"u"?this.merge(r):null}has(e){return typeof this.headers[e]<"u"}set(e,r){this.headers[e]=r}forEach(e,r){for(let[n,a]of this.entries())e.call(r,a,n,this)}*entries(){for(let e of Object.keys(this.headers)){let r=e.toLowerCase(),n=this.get(r);yield[r,n]}}*keys(){for(let e of Object.keys(this.headers))yield e.toLowerCase()}*values(){for(let e of Object.keys(this.headers))yield this.get(e)}[Symbol.iterator](){return this.entries()}}class qe extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#cookiessetname-value-options")}static callable(){throw new qe}}class Hr{static seal(e){return new Proxy(e,{get(r,n,a){switch(n){case"clear":case"delete":case"set":return qe.callable;default:return ce.get(r,n,a)}}})}}let At=Symbol.for("next.mutated.cookies");function jr(t){let e=t[At];return!e||!Array.isArray(e)||e.length===0?[]:e}function xs(t,e){let r=jr(e);if(r.length===0)return!1;let n=new ResponseCookies(t),a=n.getAll();for(let s of r)n.set(s);for(let s of a)n.set(s);return!0}class $r{static wrap(e,r){let n=new Se.ResponseCookies(new Headers);for(let g of e.getAll())n.set(g);let a=[],s=new Set,d=()=>{var g;let m=fetch.__nextGetStaticStore==null||(g=fetch.__nextGetStaticStore.call(fetch))==null?void 0:g.getStore();if(m&&(m.pathWasRevalidated=!0),a=n.getAll().filter(P=>s.has(P.name)),r){let P=[];for(let H of a){let L=new Se.ResponseCookies(new Headers);L.set(H),P.push(L.toString())}r(P)}};return new Proxy(n,{get(g,m,w){switch(m){case At:return a;case"delete":return function(...P){s.add(typeof P[0]=="string"?P[0]:P[0].name);try{g.delete(...P)}finally{d()}};case"set":return function(...P){s.add(typeof P[0]=="string"?P[0]:P[0].name);try{return g.set(...P)}finally{d()}};default:return ce.get(g,m,w)}}})}}function ps(t,e){return t.statusCode=e,t}function hs(t,e,r){if(typeof e=="string"&&(r=e,e=307),typeof e!="number"||typeof r!="string")throw new Error("Invalid redirect arguments. Please use a single argument URL, e.g. res.redirect('/destination') or use a status code and URL, e.g. res.redirect(307, '/destination').");return t.writeHead(e,{Location:r}),t.write(r),t.end(),t}function Wr(t,e){let r=me.from(t.headers),a=r.get(Ur)===e.previewModeId,s=r.has(Kr);return{isOnDemandRevalidate:a,revalidateOnlyGenerated:s}}let Ne="__prerender_bypass",Tt="__next_preview_data",gs=null,bs=Symbol(Tt),Pt=Symbol(Ne);function ms(t,e={}){if(Pt in t)return t;let{serialize:r}=M(1053),n=t.getHeader("Set-Cookie");return t.setHeader("Set-Cookie",[...typeof n=="string"?[n]:Array.isArray(n)?n:[],r(Ne,"",{expires:new Date(0),httpOnly:!0,sameSite:"none",secure:!0,path:"/",...e.path!==void 0?{path:e.path}:void 0}),r(Tt,"",{expires:new Date(0),httpOnly:!0,sameSite:"none",secure:!0,path:"/",...e.path!==void 0?{path:e.path}:void 0})]),Object.defineProperty(t,Pt,{value:!0,enumerable:!1}),t}class ys extends null{constructor(e,r){super(r),this.statusCode=e}}function _s(t,e,r){t.statusCode=e,t.statusMessage=r,t.end(r)}function Es({req:t},e,r){let n={configurable:!0,enumerable:!0},a={...n,writable:!0};Object.defineProperty(t,e,{...n,get:()=>{let s=r();return Object.defineProperty(t,e,{...a,value:s}),s},set:s=>{Object.defineProperty(t,e,{...a,value:s})}})}class Fr{constructor(e,r,n,a){var s;let d=e&&Wr(r,e).isOnDemandRevalidate,g=(s=n.get(Ne))==null?void 0:s.value;this.isEnabled=Boolean(!d&&g&&e&&g===e.previewModeId),this._previewModeId=e?.previewModeId,this._mutableCookies=a}enable(){if(!this._previewModeId)throw new Error("Invariant: previewProps missing previewModeId this should never happen");this._mutableCookies.set({name:Ne,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"})}disable(){this._mutableCookies.set({name:Ne,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)})}}function Br(t){let e=me.from(t);for(let r of St)e.delete(r.toString().toLowerCase());return me.seal(e)}function Vr(t){let e=new Se.RequestCookies(me.from(t));return Hr.seal(e)}function Gr(t,e){let r=new Se.RequestCookies(me.from(t));return $r.wrap(r,e)}let Jr={wrap(t,{req:e,res:r,renderOpts:n},a){let s;n&&"previewProps"in n&&(s=n.previewProps);function d(w){r&&r.setHeader("Set-Cookie",w)}let g={},m={get headers(){return g.headers||(g.headers=Br(e.headers)),g.headers},get cookies(){return g.cookies||(g.cookies=Vr(e.headers)),g.cookies},get mutableCookies(){return g.mutableCookies||(g.mutableCookies=Gr(e.headers,n?.onUpdateCookies||(r?d:void 0))),g.mutableCookies},get draftMode(){return g.draftMode||(g.draftMode=new Fr(s,e,this.cookies,this.mutableCookies)),g.draftMode}};return t.run(m,a,m)}};var qr=M(9186);let Xr=(0,qr.P)();var It;(function(t){t.handleRequest="BaseServer.handleRequest",t.run="BaseServer.run",t.pipe="BaseServer.pipe",t.getStaticHTML="BaseServer.getStaticHTML",t.render="BaseServer.render",t.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",t.renderToResponse="BaseServer.renderToResponse",t.renderToHTML="BaseServer.renderToHTML",t.renderError="BaseServer.renderError",t.renderErrorToResponse="BaseServer.renderErrorToResponse",t.renderErrorToHTML="BaseServer.renderErrorToHTML",t.render404="BaseServer.render404"})(It||(It={}));var Ct;(function(t){t.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",t.loadComponents="LoadComponents.loadComponents"})(Ct||(Ct={}));var Ot;(function(t){t.getRequestHandler="NextServer.getRequestHandler",t.getServer="NextServer.getServer",t.getServerRequestHandler="NextServer.getServerRequestHandler",t.createServer="createServer.createServer"})(Ot||(Ot={}));var Nt;(function(t){t.compression="NextNodeServer.compression",t.getBuildId="NextNodeServer.getBuildId",t.generateStaticRoutes="NextNodeServer.generateStaticRoutes",t.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",t.generatePublicRoutes="NextNodeServer.generatePublicRoutes",t.generateImageRoutes="NextNodeServer.generateImageRoutes.route",t.sendRenderResult="NextNodeServer.sendRenderResult",t.proxyRequest="NextNodeServer.proxyRequest",t.runApi="NextNodeServer.runApi",t.render="NextNodeServer.render",t.renderHTML="NextNodeServer.renderHTML",t.imageOptimizer="NextNodeServer.imageOptimizer",t.getPagePath="NextNodeServer.getPagePath",t.getRoutesManifest="NextNodeServer.getRoutesManifest",t.findPageComponents="NextNodeServer.findPageComponents",t.getFontManifest="NextNodeServer.getFontManifest",t.getServerComponentManifest="NextNodeServer.getServerComponentManifest",t.getRequestHandler="NextNodeServer.getRequestHandler",t.renderToHTML="NextNodeServer.renderToHTML",t.renderError="NextNodeServer.renderError",t.renderErrorToHTML="NextNodeServer.renderErrorToHTML",t.render404="NextNodeServer.render404",t.route="route",t.onProxyReq="onProxyReq",t.apiResolver="apiResolver",t.internalFetch="internalFetch"})(Nt||(Nt={}));var Mt;(function(t){t.startServer="startServer.startServer"})(Mt||(Mt={}));var Lt;(function(t){t.getServerSideProps="Render.getServerSideProps",t.getStaticProps="Render.getStaticProps",t.renderToString="Render.renderToString",t.renderDocument="Render.renderDocument",t.createBodyResult="Render.createBodyResult"})(Lt||(Lt={}));var Dt;(function(t){t.renderToString="AppRender.renderToString",t.renderToReadableStream="AppRender.renderToReadableStream",t.getBodyResult="AppRender.getBodyResult",t.fetch="AppRender.fetch"})(Dt||(Dt={}));var kt;(function(t){t.executeRoute="Router.executeRoute"})(kt||(kt={}));var Ut;(function(t){t.runHandler="Node.runHandler"})(Ut||(Ut={}));var Kt;(function(t){t.runHandler="AppRouteRouteHandlers.runHandler"})(Kt||(Kt={}));var Ht;(function(t){t.generateMetadata="ResolveMetadata.generateMetadata",t.generateViewport="ResolveMetadata.generateViewport"})(Ht||(Ht={}));let jt=["BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport"],Xe;Xe=M(3016);let{context:xe,propagation:zr,trace:Me,SpanStatusCode:Yr,SpanKind:vs,ROOT_CONTEXT:Qr}=Xe,Zr=t=>t!==null&&typeof t=="object"&&typeof t.then=="function",ze=(t,e)=>{e?.bubble===!0?t.setAttribute("next.bubble",!0):(e&&t.recordException(e),t.setStatus({code:Yr.ERROR,message:e?.message})),t.end()},Ye=new Map,$t=Xe.createContextKey("next.rootSpanId"),en=0,tn=()=>en++;class rn{getTracerInstance(){return Me.getTracer("next.js","0.0.1")}getContext(){return xe}getActiveScopeSpan(){return Me.getSpan(xe?.active())}withPropagatedContext(e,r,n){let a=xe.active();if(Me.getSpanContext(a))return r();let s=zr.extract(a,e,n);return xe.with(s,r)}trace(...e){var r;let[n,a,s]=e,{fn:d,options:g}=typeof a=="function"?{fn:a,options:{}}:{fn:s,options:{...a}};if(!jt.includes(n)&&process.env.NEXT_OTEL_VERBOSE!=="1"||g.hideSpan)return d();let m=g.spanName??n,w=this.getSpanContext(g?.parentSpan??this.getActiveScopeSpan()),P=!1;w?(r=Me.getSpanContext(w))!=null&&r.isRemote&&(P=!0):(w=Qr,P=!0);let H=tn();return g.attributes={"next.span_name":m,"next.span_type":n,...g.attributes},xe.with(w.setValue($t,H),()=>this.getTracerInstance().startActiveSpan(m,g,L=>{let Y=()=>{Ye.delete(H)};P&&Ye.set(H,new Map(Object.entries(g.attributes??{})));try{if(d.length>1)return d(L,V=>ze(L,V));let J=d(L);return Zr(J)?J.then(()=>L.end(),V=>ze(L,V)).finally(Y):(L.end(),Y()),J}catch(J){throw ze(L,J),Y(),J}}))}wrap(...e){let r=this,[n,a,s]=e.length===3?e:[e[0],{},e[1]];return!jt.includes(n)&&process.env.NEXT_OTEL_VERBOSE!=="1"?s:function(){let d=a;typeof d=="function"&&typeof s=="function"&&(d=d.apply(this,arguments));let g=arguments.length-1,m=arguments[g];if(typeof m=="function"){let w=r.getContext().bind(xe.active(),m);return r.trace(n,d,(P,H)=>(arguments[g]=function(L){return H?.(L),w.apply(this,arguments)},s.apply(this,arguments)))}else return r.trace(n,d,()=>s.apply(this,arguments))}}startSpan(...e){let[r,n]=e,a=this.getSpanContext(n?.parentSpan??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(r,n,a)}getSpanContext(e){return e?Me.setSpan(xe.active(),e):void 0}getRootSpanAttributes(){let e=xe.active().getValue($t);return Ye.get(e)}}let nn=(()=>{let t=new rn;return()=>t})();class an extends Tr{constructor(e){super(e.input,e.init),this.sourcePage=e.page}get request(){throw new u({page:this.sourcePage})}respondWith(){throw new u({page:this.sourcePage})}waitUntil(){throw new u({page:this.sourcePage})}}let on={keys:t=>Array.from(t.keys()),get:(t,e)=>t.get(e)??void 0},Qe=(t,e)=>nn().withPropagatedContext(t.headers,e,on),Wt=!1;function sn(){if(!Wt&&(Wt=!0,process.env.NEXT_PRIVATE_TEST_PROXY==="true")){let{interceptTestApis:t,wrapRequestHandler:e}=M(3457);t(),Qe=e(Qe)}}async function cn(t){sn(),await D();let e=typeof z.__BUILD_MANIFEST<"u",r=typeof z.__PRERENDER_MANIFEST=="string"?JSON.parse(z.__PRERENDER_MANIFEST):void 0;t.request.url=kr(t.request.url);let n=new ue(t.request.url,{headers:t.request.headers,nextConfig:t.request.nextConfig}),a=[...n.searchParams.keys()];for(let q of a){let ie=n.searchParams.getAll(q);if(q!==Ge&&q.startsWith(Ge)){let lt=q.substring(Ge.length);n.searchParams.delete(lt);for(let ca of ie)n.searchParams.append(lt,ca);n.searchParams.delete(q)}}let s=n.buildId;n.buildId="";let d=t.request.headers["x-nextjs-data"];d&&n.pathname==="/index"&&(n.pathname="/");let g=l(t.request.headers),m=new Map;if(!e)for(let q of St){let ie=q.toString().toLowerCase();g.get(ie)&&(m.set(ie,g.get(ie)),g.delete(ie))}let w=n,P=new an({page:t.page,input:Dr(w,!0).toString(),init:{body:t.request.body,geo:t.request.geo,headers:g,ip:t.request.ip,method:t.request.method,nextConfig:t.request.nextConfig,signal:t.request.signal}});d&&Object.defineProperty(P,"__isData",{enumerable:!1,value:!0}),!B.__incrementalCache&&t.IncrementalCache&&(B.__incrementalCache=new t.IncrementalCache({appDir:!0,fetchCache:!0,minimalMode:!0,fetchCacheKeyPrefix:void 0,dev:!1,requestHeaders:t.request.headers,requestProtocol:"https",getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:{previewModeId:"development-id"}})}));let H=new A({request:P,page:t.page}),L,Y;if(L=await Qe(P,()=>t.page==="/middleware"||t.page==="/src/middleware"?Jr.wrap(Xr,{req:P,renderOpts:{onUpdateCookies:ie=>{Y=ie},previewProps:r?.preview||{previewModeId:"development-id",previewModeEncryptionKey:"",previewModeSigningKey:""}}},()=>t.handler(P,H)):t.handler(P,H)),L&&!(L instanceof Response))throw new TypeError("Expected an instance of Response to be returned");L&&Y&&L.headers.set("set-cookie",Y);let J=L?.headers.get("x-middleware-rewrite");if(L&&J){let q=new ue(J,{forceLocale:!0,headers:t.request.headers,nextConfig:t.request.nextConfig});q.host===P.nextUrl.host&&(q.buildId=s||q.buildId,L.headers.set("x-middleware-rewrite",String(q)));let ie=yt(String(q),String(n));d&&L.headers.set("x-nextjs-rewrite",ie)}let V=L?.headers.get("Location");if(L&&V&&!e){let q=new ue(V,{forceLocale:!1,headers:t.request.headers,nextConfig:t.request.nextConfig});L=new Response(L.body,L),q.host===P.nextUrl.host&&(q.buildId=s||q.buildId,L.headers.set("Location",String(q))),d&&(L.headers.delete("Location"),L.headers.set("x-nextjs-redirect",yt(String(q),String(n))))}let Ce=L||te.next(),vr=Ce.headers.get("x-middleware-override-headers"),ft=[];if(vr){for(let[q,ie]of m)Ce.headers.set(`x-middleware-request-${q}`,ie),ft.push(q);ft.length>0&&Ce.headers.set("x-middleware-override-headers",vr+","+ft.join(","))}return{response:Ce,waitUntil:Promise.all(H[v]),fetchMetrics:P.fetchMetrics}}let fe=new TextEncoder,ye=new TextDecoder,$e=null;function Ft(...t){let e=t.reduce((a,{length:s})=>a+s,0),r=new Uint8Array(e),n=0;for(let a of t)r.set(a,n),n+=a.length;return r}function Ze(t,e,r){if(e<0||e>=$e)throw new RangeError(`value must be >= 0 and <= ${$e-1}. Received ${e}`);t.set([e>>>24,e>>>16,e>>>8,e&255],r)}function Ss(t){let e=Math.floor(t/$e),r=t%$e,n=new Uint8Array(8);return Ze(n,e,0),Ze(n,r,4),n}function Rs(t){let e=new Uint8Array(4);return Ze(e,t),e}function dn(t){if(Uint8Array.prototype.toBase64)return t.toBase64();let e=32768,r=[];for(let n=0;n<t.length;n+=e)r.push(String.fromCharCode.apply(null,t.subarray(n,n+e)));return btoa(r.join(""))}function un(t){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(t);let e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}function We(t){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof t=="string"?t:ye.decode(t),{alphabet:"base64url"});let e=t;e instanceof Uint8Array&&(e=ye.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return un(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}function et(t){let e=t;return typeof e=="string"&&(e=fe.encode(e)),Uint8Array.prototype.toBase64?e.toBase64({alphabet:"base64url",omitPadding:!0}):dn(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class ne extends Error{static{this.code="ERR_JOSE_GENERIC"}constructor(e,r){super(e,r),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class le extends ne{static{this.code="ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(e,r,n="unspecified",a="unspecified"){super(e,{cause:{claim:n,reason:a,payload:r}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=n,this.reason=a,this.payload=r}}class Bt extends ne{static{this.code="ERR_JWT_EXPIRED"}constructor(e,r,n="unspecified",a="unspecified"){super(e,{cause:{claim:n,reason:a,payload:r}}),this.code="ERR_JWT_EXPIRED",this.claim=n,this.reason=a,this.payload=r}}class fn extends ne{static{this.code="ERR_JOSE_ALG_NOT_ALLOWED"}constructor(...e){super(...e),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}class we extends ne{static{this.code="ERR_JOSE_NOT_SUPPORTED"}constructor(...e){super(...e),this.code="ERR_JOSE_NOT_SUPPORTED"}}class ws extends ne{static{this.code="ERR_JWE_DECRYPTION_FAILED"}constructor(e="decryption operation failed",r){super(e,r),this.code="ERR_JWE_DECRYPTION_FAILED"}}class As extends ne{static{this.code="ERR_JWE_INVALID"}constructor(...e){super(...e),this.code="ERR_JWE_INVALID"}}class X extends ne{static{this.code="ERR_JWS_INVALID"}constructor(...e){super(...e),this.code="ERR_JWS_INVALID"}}class tt extends ne{static{this.code="ERR_JWT_INVALID"}constructor(...e){super(...e),this.code="ERR_JWT_INVALID"}}class Ts extends ne{static{this.code="ERR_JWK_INVALID"}constructor(...e){super(...e),this.code="ERR_JWK_INVALID"}}class Ps extends ne{static{this.code="ERR_JWKS_INVALID"}constructor(...e){super(...e),this.code="ERR_JWKS_INVALID"}}class Is extends ne{static{this.code="ERR_JWKS_NO_MATCHING_KEY"}constructor(e="no applicable key found in the JSON Web Key Set",r){super(e,r),this.code="ERR_JWKS_NO_MATCHING_KEY"}}let ln;class Cs extends ne{static{ln=Symbol.asyncIterator}static{this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}constructor(e="multiple matching keys found in the JSON Web Key Set",r){super(e,r),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}class Os extends ne{static{this.code="ERR_JWKS_TIMEOUT"}constructor(e="request timed out",r){super(e,r),this.code="ERR_JWKS_TIMEOUT"}}class xn extends ne{static{this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}constructor(e="signature verification failed",r){super(e,r),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}let Vt=(t,e)=>{let r=`SHA-${t.slice(-3)}`;switch(t){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:parseInt(t.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:e.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};default:throw new we(`alg ${t} is not supported either by JOSE or your javascript runtime`)}},Gt=(t,e)=>{if(t.startsWith("RS")||t.startsWith("PS")){let{modulusLength:r}=e.algorithm;if(typeof r!="number"||r<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}};function ee(t,e="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${e} must be ${t}`)}function pe(t,e){return t.name===e}function Fe(t){return parseInt(t.name.slice(4),10)}function pn(t){switch(t){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function Jt(t,e){if(e&&!t.usages.includes(e))throw new TypeError(`CryptoKey does not support this operation, its usages must include ${e}.`)}function hn(t,e,r){switch(e){case"HS256":case"HS384":case"HS512":{if(!pe(t.algorithm,"HMAC"))throw ee("HMAC");let n=parseInt(e.slice(2),10);if(Fe(t.algorithm.hash)!==n)throw ee(`SHA-${n}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!pe(t.algorithm,"RSASSA-PKCS1-v1_5"))throw ee("RSASSA-PKCS1-v1_5");let n=parseInt(e.slice(2),10);if(Fe(t.algorithm.hash)!==n)throw ee(`SHA-${n}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!pe(t.algorithm,"RSA-PSS"))throw ee("RSA-PSS");let n=parseInt(e.slice(2),10);if(Fe(t.algorithm.hash)!==n)throw ee(`SHA-${n}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":{if(!pe(t.algorithm,"Ed25519"))throw ee("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!pe(t.algorithm,"ECDSA"))throw ee("ECDSA");let n=pn(e);if(t.algorithm.namedCurve!==n)throw ee(n,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}Jt(t,r)}function Ns(t,e,r){switch(e){case"A128GCM":case"A192GCM":case"A256GCM":{if(!pe(t.algorithm,"AES-GCM"))throw ee("AES-GCM");let n=parseInt(e.slice(1,4),10);if(t.algorithm.length!==n)throw ee(n,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!pe(t.algorithm,"AES-KW"))throw ee("AES-KW");let n=parseInt(e.slice(1,4),10);if(t.algorithm.length!==n)throw ee(n,"algorithm.length");break}case"ECDH":{switch(t.algorithm.name){case"ECDH":case"X25519":break;default:throw ee("ECDH or X25519")}break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!pe(t.algorithm,"PBKDF2"))throw ee("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!pe(t.algorithm,"RSA-OAEP"))throw ee("RSA-OAEP");let n=parseInt(e.slice(9),10)||1;if(Fe(t.algorithm.hash)!==n)throw ee(`SHA-${n}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}Jt(t,r)}function qt(t,e,...r){if(r=r.filter(Boolean),r.length>2){let n=r.pop();t+=`one of type ${r.join(", ")}, or ${n}.`}else r.length===2?t+=`one of type ${r[0]} or ${r[1]}.`:t+=`of type ${r[0]}.`;return e==null?t+=` Received ${e}`:typeof e=="function"&&e.name?t+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&e.constructor?.name&&(t+=` Received an instance of ${e.constructor.name}`),t}let gn=(t,...e)=>qt("Key must be ",t,...e);function Xt(t,e,...r){return qt(`Key for the ${t} algorithm must be `,e,...r)}let zt=async(t,e,r)=>{if(e instanceof Uint8Array){if(!t.startsWith("HS"))throw new TypeError(gn(e,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",e,{hash:`SHA-${t.slice(-3)}`,name:"HMAC"},!1,[r])}return hn(e,t,r),e},bn=async(t,e,r)=>{let n=await zt(t,e,"sign");Gt(t,n);let a=await crypto.subtle.sign(Vt(t,n.algorithm),n,r);return new Uint8Array(a)},Yt=(...t)=>{let e=t.filter(Boolean);if(e.length===0||e.length===1)return!0;let r;for(let n of e){let a=Object.keys(n);if(!r||r.size===0){r=new Set(a);continue}for(let s of a){if(r.has(s))return!1;r.add(s)}}return!0};function Ms(t){if(!rt(t))throw new Error("CryptoKey instance expected")}function rt(t){return t?.[Symbol.toStringTag]==="CryptoKey"}function Qt(t){return t?.[Symbol.toStringTag]==="KeyObject"}let Zt=t=>rt(t)||Qt(t);function mn(t){return typeof t=="object"&&t!==null}let Le=t=>{if(!mn(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};function nt(t){return Le(t)&&typeof t.kty=="string"}function yn(t){return t.kty!=="oct"&&typeof t.d=="string"}function _n(t){return t.kty!=="oct"&&typeof t.d>"u"}function En(t){return t.kty==="oct"&&typeof t.k=="string"}let Ae=t=>t?.[Symbol.toStringTag],at=(t,e,r)=>{if(e.use!==void 0){let n;switch(r){case"sign":case"verify":n="sig";break;case"encrypt":case"decrypt":n="enc";break}if(e.use!==n)throw new TypeError(`Invalid key for this operation, its "use" must be "${n}" when present`)}if(e.alg!==void 0&&e.alg!==t)throw new TypeError(`Invalid key for this operation, its "alg" must be "${t}" when present`);if(Array.isArray(e.key_ops)){let n;switch(!0){case(r==="sign"||r==="verify"):case t==="dir":case t.includes("CBC-HS"):n=r;break;case t.startsWith("PBES2"):n="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(t):!t.includes("GCM")&&t.endsWith("KW")?n=r==="encrypt"?"wrapKey":"unwrapKey":n=r;break;case(r==="encrypt"&&t.startsWith("RSA")):n="wrapKey";break;case r==="decrypt":n=t.startsWith("RSA")?"unwrapKey":"deriveBits";break}if(n&&e.key_ops?.includes?.(n)===!1)throw new TypeError(`Invalid key for this operation, its "key_ops" must include "${n}" when present`)}return!0},vn=(t,e,r)=>{if(!(e instanceof Uint8Array)){if(nt(e)){if(En(e)&&at(t,e,r))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!Zt(e))throw new TypeError(Xt(t,e,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if(e.type!=="secret")throw new TypeError(`${Ae(e)} instances for symmetric algorithms must be of type "secret"`)}},Sn=(t,e,r)=>{if(nt(e))switch(r){case"decrypt":case"sign":if(yn(e)&&at(t,e,r))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(_n(e)&&at(t,e,r))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!Zt(e))throw new TypeError(Xt(t,e,"CryptoKey","KeyObject","JSON Web Key"));if(e.type==="secret")throw new TypeError(`${Ae(e)} instances for asymmetric algorithms must not be of type "secret"`);if(e.type==="public")switch(r){case"sign":throw new TypeError(`${Ae(e)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw new TypeError(`${Ae(e)} instances for asymmetric algorithm decryption must be of type "private"`);default:break}if(e.type==="private")switch(r){case"verify":throw new TypeError(`${Ae(e)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw new TypeError(`${Ae(e)} instances for asymmetric algorithm encryption must be of type "public"`);default:break}},er=(t,e,r)=>{t.startsWith("HS")||t==="dir"||t.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(t)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(t)?vn(t,e,r):Sn(t,e,r)},tr=(t,e,r,n,a)=>{if(a.crit!==void 0&&n?.crit===void 0)throw new t('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||n.crit===void 0)return new Set;if(!Array.isArray(n.crit)||n.crit.length===0||n.crit.some(d=>typeof d!="string"||d.length===0))throw new t('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let s;r!==void 0?s=new Map([...Object.entries(r),...e.entries()]):s=e;for(let d of n.crit){if(!s.has(d))throw new we(`Extension Header Parameter "${d}" is not recognized`);if(a[d]===void 0)throw new t(`Extension Header Parameter "${d}" is missing`);if(s.get(d)&&n[d]===void 0)throw new t(`Extension Header Parameter "${d}" MUST be integrity protected`)}return new Set(n.crit)};function Rn(t){let e,r;switch(t.kty){case"RSA":{switch(t.alg){case"PS256":case"PS384":case"PS512":e={name:"RSA-PSS",hash:`SHA-${t.alg.slice(-3)}`},r=t.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":e={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.alg.slice(-3)}`},r=t.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":e={name:"RSA-OAEP",hash:`SHA-${parseInt(t.alg.slice(-3),10)||1}`},r=t.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new we('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(t.alg){case"ES256":e={name:"ECDSA",namedCurve:"P-256"},r=t.d?["sign"]:["verify"];break;case"ES384":e={name:"ECDSA",namedCurve:"P-384"},r=t.d?["sign"]:["verify"];break;case"ES512":e={name:"ECDSA",namedCurve:"P-521"},r=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:"ECDH",namedCurve:t.crv},r=t.d?["deriveBits"]:[];break;default:throw new we('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(t.alg){case"Ed25519":case"EdDSA":e={name:"Ed25519"},r=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:t.crv},r=t.d?["deriveBits"]:[];break;default:throw new we('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new we('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:e,keyUsages:r}}let wn=async t=>{if(!t.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:e,keyUsages:r}=Rn(t),n={...t};return delete n.alg,delete n.use,crypto.subtle.importKey("jwk",n,e,t.ext??!t.d,t.key_ops??r)},Te,rr=async(t,e,r,n=!1)=>{Te||=new WeakMap;let a=Te.get(t);if(a?.[r])return a[r];let s=await wn({...e,alg:r});return n&&Object.freeze(t),a?a[r]=s:Te.set(t,{[r]:s}),s},An=(t,e)=>{Te||=new WeakMap;let r=Te.get(t);if(r?.[e])return r[e];let n=t.type==="public",a=!!n,s;if(t.asymmetricKeyType==="x25519"){switch(e){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}s=t.toCryptoKey(t.asymmetricKeyType,a,n?[]:["deriveBits"])}if(t.asymmetricKeyType==="ed25519"){if(e!=="EdDSA"&&e!=="Ed25519")throw new TypeError("given KeyObject instance cannot be used for this algorithm");s=t.toCryptoKey(t.asymmetricKeyType,a,[n?"verify":"sign"])}if(t.asymmetricKeyType==="rsa"){let d;switch(e){case"RSA-OAEP":d="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":d="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":d="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":d="SHA-512";break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}if(e.startsWith("RSA-OAEP"))return t.toCryptoKey({name:"RSA-OAEP",hash:d},a,n?["encrypt"]:["decrypt"]);s=t.toCryptoKey({name:e.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:d},a,[n?"verify":"sign"])}if(t.asymmetricKeyType==="ec"){let g=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(t.asymmetricKeyDetails?.namedCurve);if(!g)throw new TypeError("given KeyObject instance cannot be used for this algorithm");e==="ES256"&&g==="P-256"&&(s=t.toCryptoKey({name:"ECDSA",namedCurve:g},a,[n?"verify":"sign"])),e==="ES384"&&g==="P-384"&&(s=t.toCryptoKey({name:"ECDSA",namedCurve:g},a,[n?"verify":"sign"])),e==="ES512"&&g==="P-521"&&(s=t.toCryptoKey({name:"ECDSA",namedCurve:g},a,[n?"verify":"sign"])),e.startsWith("ECDH-ES")&&(s=t.toCryptoKey({name:"ECDH",namedCurve:g},a,n?[]:["deriveBits"]))}if(!s)throw new TypeError("given KeyObject instance cannot be used for this algorithm");return r?r[e]=s:Te.set(t,{[e]:s}),s},nr=async(t,e)=>{if(t instanceof Uint8Array||rt(t))return t;if(Qt(t)){if(t.type==="secret")return t.export();if("toCryptoKey"in t&&typeof t.toCryptoKey=="function")try{return An(t,e)}catch(n){if(n instanceof TypeError)throw n}let r=t.export({format:"jwk"});return rr(t,r,e)}if(nt(t))return t.k?We(t.k):rr(t,t,e,!0);throw new Error("unreachable")};class Tn{#e;#t;#r;constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this.#e=e}setProtectedHeader(e){if(this.#t)throw new TypeError("setProtectedHeader can only be called once");return this.#t=e,this}setUnprotectedHeader(e){if(this.#r)throw new TypeError("setUnprotectedHeader can only be called once");return this.#r=e,this}async sign(e,r){if(!this.#t&&!this.#r)throw new X("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!Yt(this.#t,this.#r))throw new X("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let n={...this.#t,...this.#r},a=tr(X,new Map([["b64",!0]]),r?.crit,this.#t,n),s=!0;if(a.has("b64")&&(s=this.#t.b64,typeof s!="boolean"))throw new X('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:d}=n;if(typeof d!="string"||!d)throw new X('JWS "alg" (Algorithm) Header Parameter missing or invalid');er(d,e,"sign");let g=this.#e;s&&(g=fe.encode(et(g)));let m;this.#t?m=fe.encode(et(JSON.stringify(this.#t))):m=fe.encode("");let w=Ft(m,fe.encode("."),g),P=await nr(e,d),H=await bn(d,P,w),L={signature:et(H),payload:""};return s&&(L.payload=ye.decode(g)),this.#r&&(L.header=this.#r),this.#t&&(L.protected=ye.decode(m)),L}}class Pn{#e;constructor(e){this.#e=new Tn(e)}setProtectedHeader(e){return this.#e.setProtectedHeader(e),this}async sign(e,r){let n=await this.#e.sign(e,r);if(n.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${n.protected}.${n.payload}.${n.signature}`}}let ge=t=>Math.floor(t.getTime()/1e3),ar=60,or=ar*60,ot=or*24,In=ot*7,Cn=ot*365.25,On=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,De=t=>{let e=On.exec(t);if(!e||e[4]&&e[1])throw new TypeError("Invalid time period format");let r=parseFloat(e[2]),n=e[3].toLowerCase(),a;switch(n){case"sec":case"secs":case"second":case"seconds":case"s":a=Math.round(r);break;case"minute":case"minutes":case"min":case"mins":case"m":a=Math.round(r*ar);break;case"hour":case"hours":case"hr":case"hrs":case"h":a=Math.round(r*or);break;case"day":case"days":case"d":a=Math.round(r*ot);break;case"week":case"weeks":case"w":a=Math.round(r*In);break;default:a=Math.round(r*Cn);break}return e[1]==="-"||e[4]==="ago"?-a:a};function _e(t,e){if(!Number.isFinite(e))throw new TypeError(`Invalid ${t} input`);return e}let sr=t=>t.includes("/")?t.toLowerCase():`application/${t.toLowerCase()}`,Nn=(t,e)=>typeof t=="string"?e.includes(t):Array.isArray(t)?e.some(Set.prototype.has.bind(new Set(t))):!1;function Mn(t,e,r={}){let n;try{n=JSON.parse(ye.decode(e))}catch{}if(!Le(n))throw new tt("JWT Claims Set must be a top-level JSON object");let{typ:a}=r;if(a&&(typeof t.typ!="string"||sr(t.typ)!==sr(a)))throw new le('unexpected "typ" JWT header value',n,"typ","check_failed");let{requiredClaims:s=[],issuer:d,subject:g,audience:m,maxTokenAge:w}=r,P=[...s];w!==void 0&&P.push("iat"),m!==void 0&&P.push("aud"),g!==void 0&&P.push("sub"),d!==void 0&&P.push("iss");for(let J of new Set(P.reverse()))if(!(J in n))throw new le(`missing required "${J}" claim`,n,J,"missing");if(d&&!(Array.isArray(d)?d:[d]).includes(n.iss))throw new le('unexpected "iss" claim value',n,"iss","check_failed");if(g&&n.sub!==g)throw new le('unexpected "sub" claim value',n,"sub","check_failed");if(m&&!Nn(n.aud,typeof m=="string"?[m]:m))throw new le('unexpected "aud" claim value',n,"aud","check_failed");let H;switch(typeof r.clockTolerance){case"string":H=De(r.clockTolerance);break;case"number":H=r.clockTolerance;break;case"undefined":H=0;break;default:throw new TypeError("Invalid clockTolerance option type")}let{currentDate:L}=r,Y=ge(L||new Date);if((n.iat!==void 0||w)&&typeof n.iat!="number")throw new le('"iat" claim must be a number',n,"iat","invalid");if(n.nbf!==void 0){if(typeof n.nbf!="number")throw new le('"nbf" claim must be a number',n,"nbf","invalid");if(n.nbf>Y+H)throw new le('"nbf" claim timestamp check failed',n,"nbf","check_failed")}if(n.exp!==void 0){if(typeof n.exp!="number")throw new le('"exp" claim must be a number',n,"exp","invalid");if(n.exp<=Y-H)throw new Bt('"exp" claim timestamp check failed',n,"exp","check_failed")}if(w){let J=Y-n.iat,V=typeof w=="number"?w:De(w);if(J-H>V)throw new Bt('"iat" claim timestamp check failed (too far in the past)',n,"iat","check_failed");if(J<0-H)throw new le('"iat" claim timestamp check failed (it should be in the past)',n,"iat","check_failed")}return n}class Ln{#e;constructor(e){if(!Le(e))throw new TypeError("JWT Claims Set MUST be an object");this.#e=structuredClone(e)}data(){return fe.encode(JSON.stringify(this.#e))}get iss(){return this.#e.iss}set iss(e){this.#e.iss=e}get sub(){return this.#e.sub}set sub(e){this.#e.sub=e}get aud(){return this.#e.aud}set aud(e){this.#e.aud=e}set jti(e){this.#e.jti=e}set nbf(e){typeof e=="number"?this.#e.nbf=_e("setNotBefore",e):e instanceof Date?this.#e.nbf=_e("setNotBefore",ge(e)):this.#e.nbf=ge(new Date)+De(e)}set exp(e){typeof e=="number"?this.#e.exp=_e("setExpirationTime",e):e instanceof Date?this.#e.exp=_e("setExpirationTime",ge(e)):this.#e.exp=ge(new Date)+De(e)}set iat(e){typeof e>"u"?this.#e.iat=ge(new Date):e instanceof Date?this.#e.iat=_e("setIssuedAt",ge(e)):typeof e=="string"?this.#e.iat=_e("setIssuedAt",ge(new Date)+De(e)):this.#e.iat=_e("setIssuedAt",e)}}class st{#e;#t;constructor(e={}){this.#t=new Ln(e)}setIssuer(e){return this.#t.iss=e,this}setSubject(e){return this.#t.sub=e,this}setAudience(e){return this.#t.aud=e,this}setJti(e){return this.#t.jti=e,this}setNotBefore(e){return this.#t.nbf=e,this}setExpirationTime(e){return this.#t.exp=e,this}setIssuedAt(e){return this.#t.iat=e,this}setProtectedHeader(e){return this.#e=e,this}async sign(e,r){let n=new Pn(this.#t.data());if(n.setProtectedHeader(this.#e),Array.isArray(this.#e?.crit)&&this.#e.crit.includes("b64")&&this.#e.b64===!1)throw new tt("JWTs MUST NOT use unencoded payload");return n.sign(e,r)}}let Dn=async(t,e,r,n)=>{let a=await zt(t,e,"verify");Gt(t,a);let s=Vt(t,a.algorithm);try{return await crypto.subtle.verify(s,a,r,n)}catch{return!1}},kn=(t,e)=>{if(e!==void 0&&(!Array.isArray(e)||e.some(r=>typeof r!="string")))throw new TypeError(`"${t}" option must be an array of strings`);if(!!e)return new Set(e)};async function Un(t,e,r){if(!Le(t))throw new X("Flattened JWS must be an object");if(t.protected===void 0&&t.header===void 0)throw new X('Flattened JWS must have either of the "protected" or "header" members');if(t.protected!==void 0&&typeof t.protected!="string")throw new X("JWS Protected Header incorrect type");if(t.payload===void 0)throw new X("JWS Payload missing");if(typeof t.signature!="string")throw new X("JWS Signature missing or incorrect type");if(t.header!==void 0&&!Le(t.header))throw new X("JWS Unprotected Header incorrect type");let n={};if(t.protected)try{let Ce=We(t.protected);n=JSON.parse(ye.decode(Ce))}catch{throw new X("JWS Protected Header is invalid")}if(!Yt(n,t.header))throw new X("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let a={...n,...t.header},s=tr(X,new Map([["b64",!0]]),r?.crit,n,a),d=!0;if(s.has("b64")&&(d=n.b64,typeof d!="boolean"))throw new X('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:g}=a;if(typeof g!="string"||!g)throw new X('JWS "alg" (Algorithm) Header Parameter missing or invalid');let m=r&&kn("algorithms",r.algorithms);if(m&&!m.has(g))throw new fn('"alg" (Algorithm) Header Parameter value not allowed');if(d){if(typeof t.payload!="string")throw new X("JWS Payload must be a string")}else if(typeof t.payload!="string"&&!(t.payload instanceof Uint8Array))throw new X("JWS Payload must be a string or an Uint8Array instance");let w=!1;typeof e=="function"&&(e=await e(n,t),w=!0),er(g,e,"verify");let P=Ft(fe.encode(t.protected??""),fe.encode("."),typeof t.payload=="string"?fe.encode(t.payload):t.payload),H;try{H=We(t.signature)}catch{throw new X("Failed to base64url decode the signature")}let L=await nr(e,g);if(!await Dn(g,L,H,P))throw new xn;let J;if(d)try{J=We(t.payload)}catch{throw new X("Failed to base64url decode the payload")}else typeof t.payload=="string"?J=fe.encode(t.payload):J=t.payload;let V={payload:J};return t.protected!==void 0&&(V.protectedHeader=n),t.header!==void 0&&(V.unprotectedHeader=t.header),w?{...V,key:L}:V}async function Kn(t,e,r){if(t instanceof Uint8Array&&(t=ye.decode(t)),typeof t!="string")throw new X("Compact JWS must be a string or Uint8Array");let{0:n,1:a,2:s,length:d}=t.split(".");if(d!==3)throw new X("Invalid Compact JWS");let g=await Un({payload:a,protected:n,signature:s},e,r),m={payload:g.payload,protectedHeader:g.protectedHeader};return typeof e=="function"?{...m,key:g.key}:m}async function Hn(t,e,r){let n=await Kn(t,e,r);if(n.protectedHeader.crit?.includes("b64")&&n.protectedHeader.b64===!1)throw new tt("JWTs MUST NOT use unencoded payload");let s={payload:Mn(n.protectedHeader,n.payload,r),protectedHeader:n.protectedHeader};return typeof e=="function"?{...s,key:n.key}:s}var jn=M(468),it=null;function $n(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return jn.randomBytes(t)}catch{}if(!it)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return it(t)}function Wn(t){it=t}function ct(t,e){if(t=t||dt,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var r=[];return r.push("$2b$"),t<10&&r.push("0"),r.push(t.toString()),r.push("$"),r.push(Be($n(ke),ke)),r.join("")}function ir(t,e,r){if(typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),typeof t>"u")t=dt;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function n(a){de(function(){try{a(null,ct(t))}catch(s){a(s)}})}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);n(r)}else return new Promise(function(a,s){n(function(d,g){if(d){s(d);return}a(g)})})}function cr(t,e){if(typeof e>"u"&&(e=dt),typeof e=="number"&&(e=ct(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return ut(t,e)}function dr(t,e,r,n){function a(s){typeof t=="string"&&typeof e=="number"?ir(e,function(d,g){ut(t,g,s,n)}):typeof t=="string"&&typeof e=="string"?ut(t,e,s,n):de(s.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);a(r)}else return new Promise(function(s,d){a(function(g,m){if(g){d(g);return}s(m)})})}function ur(t,e){for(var r=t.length^e.length,n=0;n<t.length;++n)r|=t.charCodeAt(n)^e.charCodeAt(n);return r===0}function Fn(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:ur(cr(t,e.substring(0,e.length-31)),e)}function Bn(t,e,r,n){function a(s){if(typeof t!="string"||typeof e!="string"){de(s.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){de(s.bind(this,null,!1));return}dr(t,e.substring(0,29),function(d,g){d?s(d):s(null,ur(g,e))},n)}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);a(r)}else return new Promise(function(s,d){a(function(g,m){if(g){d(g);return}s(m)})})}function Vn(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function Gn(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function Jn(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return fr(t)>72}var de=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function fr(t){for(var e=0,r=0,n=0;n<t.length;++n)r=t.charCodeAt(n),r<128?e+=1:r<2048?e+=2:(r&64512)===55296&&(t.charCodeAt(n+1)&64512)===56320?(++n,e+=4):e+=3;return e}function qn(t){for(var e=0,r,n,a=new Array(fr(t)),s=0,d=t.length;s<d;++s)r=t.charCodeAt(s),r<128?a[e++]=r:r<2048?(a[e++]=r>>6|192,a[e++]=r&63|128):(r&64512)===55296&&((n=t.charCodeAt(s+1))&64512)===56320?(r=65536+((r&1023)<<10)+(n&1023),++s,a[e++]=r>>18|240,a[e++]=r>>12&63|128,a[e++]=r>>6&63|128,a[e++]=r&63|128):(a[e++]=r>>12|224,a[e++]=r>>6&63|128,a[e++]=r&63|128);return a}var Pe="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),be=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Be(t,e){var r=0,n=[],a,s;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;r<e;){if(a=t[r++]&255,n.push(Pe[a>>2&63]),a=(a&3)<<4,r>=e){n.push(Pe[a&63]);break}if(s=t[r++]&255,a|=s>>4&15,n.push(Pe[a&63]),a=(s&15)<<2,r>=e){n.push(Pe[a&63]);break}s=t[r++]&255,a|=s>>6&3,n.push(Pe[a&63]),n.push(Pe[s&63])}return n.join("")}function lr(t,e){var r=0,n=t.length,a=0,s=[],d,g,m,w,P,H;if(e<=0)throw Error("Illegal len: "+e);for(;r<n-1&&a<e&&(H=t.charCodeAt(r++),d=H<be.length?be[H]:-1,H=t.charCodeAt(r++),g=H<be.length?be[H]:-1,!(d==-1||g==-1||(P=d<<2>>>0,P|=(g&48)>>4,s.push(String.fromCharCode(P)),++a>=e||r>=n)||(H=t.charCodeAt(r++),m=H<be.length?be[H]:-1,m==-1)||(P=(g&15)<<4>>>0,P|=(m&60)>>2,s.push(String.fromCharCode(P)),++a>=e||r>=n)));)H=t.charCodeAt(r++),w=H<be.length?be[H]:-1,P=(m&3)<<6>>>0,P|=w,s.push(String.fromCharCode(P)),++a;var L=[];for(r=0;r<a;r++)L.push(s[r].charCodeAt(0));return L}var ke=16,dt=10,Xn=16,zn=100,xr=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],pr=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],hr=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Ue(t,e,r,n){var a,s=t[e],d=t[e+1];return s^=r[0],a=n[s>>>24],a+=n[256|s>>16&255],a^=n[512|s>>8&255],a+=n[768|s&255],d^=a^r[1],a=n[d>>>24],a+=n[256|d>>16&255],a^=n[512|d>>8&255],a+=n[768|d&255],s^=a^r[2],a=n[s>>>24],a+=n[256|s>>16&255],a^=n[512|s>>8&255],a+=n[768|s&255],d^=a^r[3],a=n[d>>>24],a+=n[256|d>>16&255],a^=n[512|d>>8&255],a+=n[768|d&255],s^=a^r[4],a=n[s>>>24],a+=n[256|s>>16&255],a^=n[512|s>>8&255],a+=n[768|s&255],d^=a^r[5],a=n[d>>>24],a+=n[256|d>>16&255],a^=n[512|d>>8&255],a+=n[768|d&255],s^=a^r[6],a=n[s>>>24],a+=n[256|s>>16&255],a^=n[512|s>>8&255],a+=n[768|s&255],d^=a^r[7],a=n[d>>>24],a+=n[256|d>>16&255],a^=n[512|d>>8&255],a+=n[768|d&255],s^=a^r[8],a=n[s>>>24],a+=n[256|s>>16&255],a^=n[512|s>>8&255],a+=n[768|s&255],d^=a^r[9],a=n[d>>>24],a+=n[256|d>>16&255],a^=n[512|d>>8&255],a+=n[768|d&255],s^=a^r[10],a=n[s>>>24],a+=n[256|s>>16&255],a^=n[512|s>>8&255],a+=n[768|s&255],d^=a^r[11],a=n[d>>>24],a+=n[256|d>>16&255],a^=n[512|d>>8&255],a+=n[768|d&255],s^=a^r[12],a=n[s>>>24],a+=n[256|s>>16&255],a^=n[512|s>>8&255],a+=n[768|s&255],d^=a^r[13],a=n[d>>>24],a+=n[256|d>>16&255],a^=n[512|d>>8&255],a+=n[768|d&255],s^=a^r[14],a=n[s>>>24],a+=n[256|s>>16&255],a^=n[512|s>>8&255],a+=n[768|s&255],d^=a^r[15],a=n[d>>>24],a+=n[256|d>>16&255],a^=n[512|d>>8&255],a+=n[768|d&255],s^=a^r[16],t[e]=d^r[Xn+1],t[e+1]=s,t}function Ie(t,e){for(var r=0,n=0;r<4;++r)n=n<<8|t[e]&255,e=(e+1)%t.length;return{key:n,offp:e}}function gr(t,e,r){for(var n=0,a=[0,0],s=e.length,d=r.length,g,m=0;m<s;m++)g=Ie(t,n),n=g.offp,e[m]=e[m]^g.key;for(m=0;m<s;m+=2)a=Ue(a,0,e,r),e[m]=a[0],e[m+1]=a[1];for(m=0;m<d;m+=2)a=Ue(a,0,e,r),r[m]=a[0],r[m+1]=a[1]}function Yn(t,e,r,n){for(var a=0,s=[0,0],d=r.length,g=n.length,m,w=0;w<d;w++)m=Ie(e,a),a=m.offp,r[w]=r[w]^m.key;for(a=0,w=0;w<d;w+=2)m=Ie(t,a),a=m.offp,s[0]^=m.key,m=Ie(t,a),a=m.offp,s[1]^=m.key,s=Ue(s,0,r,n),r[w]=s[0],r[w+1]=s[1];for(w=0;w<g;w+=2)m=Ie(t,a),a=m.offp,s[0]^=m.key,m=Ie(t,a),a=m.offp,s[1]^=m.key,s=Ue(s,0,r,n),n[w]=s[0],n[w+1]=s[1]}function br(t,e,r,n,a){var s=hr.slice(),d=s.length,g;if(r<4||r>31)if(g=Error("Illegal number of rounds (4-31): "+r),n){de(n.bind(this,g));return}else throw g;if(e.length!==ke)if(g=Error("Illegal salt length: "+e.length+" != "+ke),n){de(n.bind(this,g));return}else throw g;r=1<<r>>>0;var m,w,P=0,H;typeof Int32Array=="function"?(m=new Int32Array(xr),w=new Int32Array(pr)):(m=xr.slice(),w=pr.slice()),Yn(e,t,m,w);function L(){if(a&&a(P/r),P<r)for(var J=Date.now();P<r&&(P=P+1,gr(t,m,w),gr(e,m,w),!(Date.now()-J>zn)););else{for(P=0;P<64;P++)for(H=0;H<d>>1;H++)Ue(s,H<<1,m,w);var V=[];for(P=0;P<d;P++)V.push((s[P]>>24&255)>>>0),V.push((s[P]>>16&255)>>>0),V.push((s[P]>>8&255)>>>0),V.push((s[P]&255)>>>0);if(n){n(null,V);return}else return V}n&&de(L)}if(typeof n<"u")L();else for(var Y;;)if(typeof(Y=L())<"u")return Y||[]}function ut(t,e,r,n){var a;if(typeof t!="string"||typeof e!="string")if(a=Error("Invalid string / salt: Not a string"),r){de(r.bind(this,a));return}else throw a;var s,d;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(a=Error("Invalid salt version: "+e.substring(0,2)),r){de(r.bind(this,a));return}else throw a;if(e.charAt(2)==="$")s=String.fromCharCode(0),d=3;else{if(s=e.charAt(2),s!=="a"&&s!=="b"&&s!=="y"||e.charAt(3)!=="$")if(a=Error("Invalid salt revision: "+e.substring(2,4)),r){de(r.bind(this,a));return}else throw a;d=4}if(e.charAt(d+2)>"$")if(a=Error("Missing salt rounds"),r){de(r.bind(this,a));return}else throw a;var g=parseInt(e.substring(d,d+1),10)*10,m=parseInt(e.substring(d+1,d+2),10),w=g+m,P=e.substring(d+3,d+25);t+=s>="a"?"\0":"";var H=qn(t),L=lr(P,ke);function Y(J){var V=[];return V.push("$2"),s>="a"&&V.push(s),V.push("$"),w<10&&V.push("0"),V.push(w.toString()),V.push("$"),V.push(Be(L,L.length)),V.push(Be(J,hr.length*4-1)),V.join("")}if(typeof r>"u")return Y(br(H,L,w));br(H,L,w,function(J,V){J?r(J,null):r(null,Y(V))},n)}function Qn(t,e){return Be(t,e)}function Zn(t,e){return lr(t,e)}let Ls={setRandomFallback:Wn,genSaltSync:ct,genSalt:ir,hashSync:cr,hash:dr,compareSync:Fn,compare:Bn,getRounds:Vn,getSalt:Gn,truncates:Jn,encodeBase64:Qn,decodeBase64:Zn};function Ds(){return B.DB}async function ks(t,e,r=[]){try{let n=await t.prepare(e).bind(...r).all();return{success:!0,data:n.results,meta:{duration:n.meta?.duration,changes:n.meta?.changes,last_row_id:n.meta?.last_row_id,rows_read:n.meta?.rows_read,rows_written:n.meta?.rows_written}}}catch(n){return console.error("Database query error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown database error"}}}async function Us(t,e,r=[]){try{return{success:!0,data:await t.prepare(e).bind(...r).first()}}catch(n){return console.error("Database query error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown database error"}}}async function Ks(t,e){try{let r=e.map(({query:a,params:s=[]})=>t.prepare(a).bind(...s));return{success:!0,results:(await t.batch(r)).map(a=>a.results)}}catch(r){return console.error("Database transaction error:",r),{success:!1,error:r instanceof Error?r.message:"Unknown transaction error"}}}let Ee={generateId:()=>crypto.randomUUID(),toJson:t=>JSON.stringify(t),fromJson:t=>{if(!t)return null;try{return JSON.parse(t)}catch{return null}},generateSlug:t=>t.toLowerCase().replace(/ğ/g,"g").replace(/ü/g,"u").replace(/ş/g,"s").replace(/ı/g,"i").replace(/ö/g,"o").replace(/ç/g,"c").replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""),formatDate:(t=new Date)=>t.toISOString(),getPaginationParams:(t=1,e=20)=>{let r=(t-1)*e;return{limit:e,offset:r}}},Hs={isValidEmail:t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),isValidPhone:t=>/^[\+]?[0-9\s\-\(\)]{10,}$/.test(t),isValidUrl:t=>{try{return new URL(t),!0}catch{return!1}},sanitizeHtml:t=>t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<iframe\b[^<]*(?:(?!<\/iframe>)<[^<]*)*<\/iframe>/gi,"").replace(/on\w+="[^"]*"/gi,"")},ea=process.env.JWT_SECRET||"your-super-secret-jwt-key-change-in-production",ta=process.env.JWT_ACCESS_EXPIRES_IN||"15m",ra=process.env.JWT_REFRESH_EXPIRES_IN||"7d";class ve{static getSecret(){return new TextEncoder().encode(ea)}static async generateAccessToken(e){let r={sub:e.id,username:e.username,email:e.email,role:e.role,type:"access"};return await new st(r).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime(ta).sign(this.getSecret())}static async generateRefreshToken(e){let r={sub:e.id,username:e.username,email:e.email,role:e.role,type:"refresh"};return await new st(r).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime(ra).sign(this.getSecret())}static async verifyToken(e){try{let{payload:r}=await Hn(e,this.getSecret());return{success:!0,payload:r}}catch(r){return{success:!1,error:r.message||"Invalid token"}}}}class js{static async hashPassword(e){return await bcrypt.hash(e,12)}static async verifyPassword(e,r){return await bcrypt.compare(e,r)}static generateRandomPassword(e=12){let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*",n="";for(let a=0;a<e;a++)n+=r.charAt(Math.floor(Math.random()*r.length));return n}}class $s{static{this.attempts=new Map}static isRateLimited(e,r=5,n=15*60*1e3){let a=Date.now(),s=this.attempts.get(e);return!s||a>s.resetTime?(this.attempts.set(e,{count:1,resetTime:a+n}),!1):s.count>=r?!0:(s.count++,!1)}static clearAttempts(e){this.attempts.delete(e)}static resetRateLimit(e){this.attempts.delete(e)}static cleanup(){let e=Date.now(),r=[];this.attempts.forEach((n,a)=>{e>n.resetTime&&r.push(a)}),r.forEach(n=>{this.attempts.delete(n)})}}class mr{static async authenticate(e,r){try{if((e==="protekadmin"||e==="admin@protekanalitik.com")&&r==="protek1234"){let n={id:"admin-001",username:"protekadmin",email:"admin@protekanalitik.com",first_name:"Admin",last_name:"User",role:"admin",is_active:!0,last_login:Ee.formatDate(),created_at:Ee.formatDate(),updated_at:Ee.formatDate()},a=await ve.generateAccessToken(n),s=await ve.generateRefreshToken(n);return{success:!0,user:n,accessToken:a,refreshToken:s}}else return{success:!1,error:"Ge\xE7ersiz kullan\u0131c\u0131 ad\u0131 veya \u015Fifre"}}catch(n){return console.error("Authentication error:",n),{success:!1,error:"Kimlik do\u011Frulama s\u0131ras\u0131nda hata olu\u015Ftu"}}}static async refreshAccessToken(e){try{let r=await ve.verifyToken(e);if(!r.success||!r.payload)return{success:!1,error:"Ge\xE7ersiz refresh token"};if(r.payload.type!=="refresh")return{success:!1,error:"Ge\xE7ersiz token tipi"};let n={id:r.payload.sub,username:r.payload.username,email:r.payload.email,role:r.payload.role,is_active:!0,created_at:Ee.formatDate(),updated_at:Ee.formatDate()},a=await ve.generateAccessToken(n);return{success:!0,user:n,accessToken:a,refreshToken:e}}catch(r){return console.error("Token refresh error:",r),{success:!1,error:"Token yenileme s\u0131ras\u0131nda hata olu\u015Ftu"}}}static async verifyAccessToken(e){try{let r=await ve.verifyToken(e);return!r.success||!r.payload?{success:!1,error:"Ge\xE7ersiz token"}:r.payload.type!=="access"?{success:!1,error:"Ge\xE7ersiz token tipi"}:{success:!0,user:{id:r.payload.sub,username:r.payload.username,email:r.payload.email,role:r.payload.role,is_active:!0,created_at:Ee.formatDate(),updated_at:Ee.formatDate()}}}catch(r){return console.error("Token verification error:",r),{success:!1,error:"Token do\u011Frulama s\u0131ras\u0131nda hata olu\u015Ftu"}}}static hasRole(e,r){let n={viewer:1,editor:2,admin:3,super_admin:4};return n[e.role]>=n[r]}static async generatePasswordResetToken(e){let r={sub:e,type:"password_reset",exp:Math.floor(Date.now()/1e3)+3600};return await new st(r).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime("1h").sign(ve.getSecret())}static async verifyPasswordResetToken(e){try{let r=await ve.verifyToken(e);return!r.success||!r.payload||r.payload.type!=="password_reset"?{success:!1,error:"Ge\xE7ersiz \u015Fifre s\u0131f\u0131rlama token"}:{success:!0,userId:r.payload.sub}}catch(r){return console.error("Password reset token verification error:",r),{success:!1,error:"Token do\u011Frulama s\u0131ras\u0131nda hata olu\u015Ftu"}}}}let na=["/admin","/api/products","/api/categories","/api/news","/api/events","/api/upload"],aa=["/api/auth/login","/api/auth/refresh","/api/auth/logout","/api/products/public","/api/contact"];async function oa(t){let{pathname:e}=t.nextUrl;if(e.startsWith("/_next")||e.startsWith("/static")||e.includes(".")||e==="/favicon.ico")return te.next();let r=na.some(s=>e.startsWith(s)),n=aa.some(s=>e.startsWith(s));if(!r||n)return te.next();let a=t.cookies.get("accessToken")?.value;if(!a){let s=t.headers.get("authorization");s&&s.startsWith("Bearer ")&&(a=s.substring(7))}if(!a)if(e.startsWith("/admin")){let s=new URL("/login",t.url);return s.searchParams.set("redirect",e),te.redirect(s)}else return te.json({success:!1,error:"Authentication required",code:"AUTHENTICATION_REQUIRED"},{status:401});try{let s=await mr.verifyAccessToken(a);if(!s.success){let g=t.cookies.get("refreshToken")?.value;if(g){let m=await mr.refreshAccessToken(g);if(m.success){let w=te.next();return w.cookies.set("accessToken",m.accessToken,{httpOnly:!0,secure:!0,sameSite:"strict",path:"/",maxAge:15*60}),w.headers.set("x-user-id",m.user.id),w.headers.set("x-user-role",m.user.role),w}}if(e.startsWith("/admin")){let m=new URL("/login",t.url);m.searchParams.set("redirect",e);let w=te.redirect(m);return w.cookies.delete("accessToken"),w.cookies.delete("refreshToken"),w}else{let m=te.json({success:!1,error:"Invalid or expired token",code:"INVALID_TOKEN"},{status:401});return m.cookies.delete("accessToken"),m.cookies.delete("refreshToken"),m}}let d=te.next();return d.headers.set("x-user-id",s.user.id),d.headers.set("x-user-role",s.user.role),d.headers.set("x-user-email",s.user.email),d}catch(s){return console.error("Middleware error:",s),e.startsWith("/admin")?te.redirect(new URL("/login",t.url)):te.json({success:!1,error:"Authentication error",code:"AUTH_ERROR"},{status:500})}}let sa={matcher:["/((?!api/auth|_next/static|_next/image|favicon.ico|public).*)"]},yr={...C},_r=yr.middleware||yr.default,Er="/src/middleware";if(typeof _r!="function")throw new Error(`The Middleware "${Er}" must export a \`middleware\` or a \`default\` function`);function ia(t){return cn({...t,page:Er,handler:_r})}},1170:G=>{"use strict";var W=Object.defineProperty,M=Object.getOwnPropertyDescriptor,C=Object.getOwnPropertyNames,$=Object.prototype.hasOwnProperty,U=(i,_)=>{for(var E in _)W(i,E,{get:_[E],enumerable:!0})},D=(i,_,E,N)=>{if(_&&typeof _=="object"||typeof _=="function")for(let O of C(_))!$.call(i,O)&&O!==E&&W(i,O,{get:()=>_[O],enumerable:!(N=M(_,O))||N.enumerable});return i},F=i=>D(W({},"__esModule",{value:!0}),i),h={};U(h,{RequestCookies:()=>y,ResponseCookies:()=>v,parseCookie:()=>u,parseSetCookie:()=>c,stringifyCookie:()=>o}),G.exports=F(h);function o(i){var _;let E=["path"in i&&i.path&&`Path=${i.path}`,"expires"in i&&(i.expires||i.expires===0)&&`Expires=${(typeof i.expires=="number"?new Date(i.expires):i.expires).toUTCString()}`,"maxAge"in i&&typeof i.maxAge=="number"&&`Max-Age=${i.maxAge}`,"domain"in i&&i.domain&&`Domain=${i.domain}`,"secure"in i&&i.secure&&"Secure","httpOnly"in i&&i.httpOnly&&"HttpOnly","sameSite"in i&&i.sameSite&&`SameSite=${i.sameSite}`,"priority"in i&&i.priority&&`Priority=${i.priority}`].filter(Boolean);return`${i.name}=${encodeURIComponent((_=i.value)!=null?_:"")}; ${E.join("; ")}`}function u(i){let _=new Map;for(let E of i.split(/; */)){if(!E)continue;let N=E.indexOf("=");if(N===-1){_.set(E,"true");continue}let[O,S]=[E.slice(0,N),E.slice(N+1)];try{_.set(O,decodeURIComponent(S??"true"))}catch{}}return _}function c(i){if(!i)return;let[[_,E],...N]=u(i),{domain:O,expires:S,httponly:K,maxage:k,path:j,samesite:Q,secure:Z,priority:oe}=Object.fromEntries(N.map(([re,T])=>[re.toLowerCase(),T])),se={name:_,value:decodeURIComponent(E),domain:O,...S&&{expires:new Date(S)},...K&&{httpOnly:!0},...typeof k=="string"&&{maxAge:Number(k)},path:j,...Q&&{sameSite:f(Q)},...Z&&{secure:!0},...oe&&{priority:b(oe)}};return x(se)}function x(i){let _={};for(let E in i)i[E]&&(_[E]=i[E]);return _}var l=["strict","lax","none"];function f(i){return i=i.toLowerCase(),l.includes(i)?i:void 0}var p=["low","medium","high"];function b(i){return i=i.toLowerCase(),p.includes(i)?i:void 0}function R(i){if(!i)return[];var _=[],E=0,N,O,S,K,k;function j(){for(;E<i.length&&/\s/.test(i.charAt(E));)E+=1;return E<i.length}function Q(){return O=i.charAt(E),O!=="="&&O!==";"&&O!==","}for(;E<i.length;){for(N=E,k=!1;j();)if(O=i.charAt(E),O===","){for(S=E,E+=1,j(),K=E;E<i.length&&Q();)E+=1;E<i.length&&i.charAt(E)==="="?(k=!0,E=K,_.push(i.substring(N,S)),N=E):E=S+1}else E+=1;(!k||E>=i.length)&&_.push(i.substring(N,i.length))}return _}var y=class{constructor(i){this._parsed=new Map,this._headers=i;let _=i.get("cookie");if(_){let E=u(_);for(let[N,O]of E)this._parsed.set(N,{name:N,value:O})}}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...i){let _=typeof i[0]=="string"?i[0]:i[0].name;return this._parsed.get(_)}getAll(...i){var _;let E=Array.from(this._parsed);if(!i.length)return E.map(([O,S])=>S);let N=typeof i[0]=="string"?i[0]:(_=i[0])==null?void 0:_.name;return E.filter(([O])=>O===N).map(([O,S])=>S)}has(i){return this._parsed.has(i)}set(...i){let[_,E]=i.length===1?[i[0].name,i[0].value]:i,N=this._parsed;return N.set(_,{name:_,value:E}),this._headers.set("cookie",Array.from(N).map(([O,S])=>o(S)).join("; ")),this}delete(i){let _=this._parsed,E=Array.isArray(i)?i.map(N=>_.delete(N)):_.delete(i);return this._headers.set("cookie",Array.from(_).map(([N,O])=>o(O)).join("; ")),E}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(i=>`${i.name}=${encodeURIComponent(i.value)}`).join("; ")}},v=class{constructor(i){this._parsed=new Map;var _,E,N;this._headers=i;let O=(N=(E=(_=i.getSetCookie)==null?void 0:_.call(i))!=null?E:i.get("set-cookie"))!=null?N:[],S=Array.isArray(O)?O:R(O);for(let K of S){let k=c(K);k&&this._parsed.set(k.name,k)}}get(...i){let _=typeof i[0]=="string"?i[0]:i[0].name;return this._parsed.get(_)}getAll(...i){var _;let E=Array.from(this._parsed.values());if(!i.length)return E;let N=typeof i[0]=="string"?i[0]:(_=i[0])==null?void 0:_.name;return E.filter(O=>O.name===N)}has(i){return this._parsed.has(i)}set(...i){let[_,E,N]=i.length===1?[i[0].name,i[0].value,i[0]]:i,O=this._parsed;return O.set(_,A({name:_,value:E,...N})),I(O,this._headers),this}delete(...i){let[_,E,N]=typeof i[0]=="string"?[i[0]]:[i[0].name,i[0].path,i[0].domain];return this.set({name:_,path:E,domain:N,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(o).join("; ")}};function I(i,_){_.delete("set-cookie");for(let[,E]of i){let N=o(E);_.append("set-cookie",N)}}function A(i={name:"",value:""}){return typeof i.expires=="number"&&(i.expires=new Date(i.expires)),i.maxAge&&(i.expires=new Date(Date.now()+i.maxAge*1e3)),(i.path===null||i.path===void 0)&&(i.path="/"),i}},3016:(G,W,M)=>{"use strict";var C="/";(()=>{"use strict";var $={491:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ContextAPI=void 0;let c=u(223),x=u(172),l=u(930),f="context",p=new c.NoopContextManager;class b{constructor(){}static getInstance(){return this._instance||(this._instance=new b),this._instance}setGlobalContextManager(y){return(0,x.registerGlobal)(f,y,l.DiagAPI.instance())}active(){return this._getContextManager().active()}with(y,v,I,...A){return this._getContextManager().with(y,v,I,...A)}bind(y,v){return this._getContextManager().bind(y,v)}_getContextManager(){return(0,x.getGlobal)(f)||p}disable(){this._getContextManager().disable(),(0,x.unregisterGlobal)(f,l.DiagAPI.instance())}}o.ContextAPI=b},930:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DiagAPI=void 0;let c=u(56),x=u(912),l=u(957),f=u(172),p="diag";class b{constructor(){function y(A){return function(...i){let _=(0,f.getGlobal)("diag");if(!!_)return _[A](...i)}}let v=this,I=(A,i={logLevel:l.DiagLogLevel.INFO})=>{var _,E,N;if(A===v){let K=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return v.error((_=K.stack)!==null&&_!==void 0?_:K.message),!1}typeof i=="number"&&(i={logLevel:i});let O=(0,f.getGlobal)("diag"),S=(0,x.createLogLevelDiagLogger)((E=i.logLevel)!==null&&E!==void 0?E:l.DiagLogLevel.INFO,A);if(O&&!i.suppressOverrideMessage){let K=(N=new Error().stack)!==null&&N!==void 0?N:"<failed to generate stacktrace>";O.warn(`Current logger will be overwritten from ${K}`),S.warn(`Current logger will overwrite one already registered from ${K}`)}return(0,f.registerGlobal)("diag",S,v,!0)};v.setLogger=I,v.disable=()=>{(0,f.unregisterGlobal)(p,v)},v.createComponentLogger=A=>new c.DiagComponentLogger(A),v.verbose=y("verbose"),v.debug=y("debug"),v.info=y("info"),v.warn=y("warn"),v.error=y("error")}static instance(){return this._instance||(this._instance=new b),this._instance}}o.DiagAPI=b},653:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MetricsAPI=void 0;let c=u(660),x=u(172),l=u(930),f="metrics";class p{constructor(){}static getInstance(){return this._instance||(this._instance=new p),this._instance}setGlobalMeterProvider(R){return(0,x.registerGlobal)(f,R,l.DiagAPI.instance())}getMeterProvider(){return(0,x.getGlobal)(f)||c.NOOP_METER_PROVIDER}getMeter(R,y,v){return this.getMeterProvider().getMeter(R,y,v)}disable(){(0,x.unregisterGlobal)(f,l.DiagAPI.instance())}}o.MetricsAPI=p},181:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PropagationAPI=void 0;let c=u(172),x=u(874),l=u(194),f=u(277),p=u(369),b=u(930),R="propagation",y=new x.NoopTextMapPropagator;class v{constructor(){this.createBaggage=p.createBaggage,this.getBaggage=f.getBaggage,this.getActiveBaggage=f.getActiveBaggage,this.setBaggage=f.setBaggage,this.deleteBaggage=f.deleteBaggage}static getInstance(){return this._instance||(this._instance=new v),this._instance}setGlobalPropagator(A){return(0,c.registerGlobal)(R,A,b.DiagAPI.instance())}inject(A,i,_=l.defaultTextMapSetter){return this._getGlobalPropagator().inject(A,i,_)}extract(A,i,_=l.defaultTextMapGetter){return this._getGlobalPropagator().extract(A,i,_)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,c.unregisterGlobal)(R,b.DiagAPI.instance())}_getGlobalPropagator(){return(0,c.getGlobal)(R)||y}}o.PropagationAPI=v},997:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TraceAPI=void 0;let c=u(172),x=u(846),l=u(139),f=u(607),p=u(930),b="trace";class R{constructor(){this._proxyTracerProvider=new x.ProxyTracerProvider,this.wrapSpanContext=l.wrapSpanContext,this.isSpanContextValid=l.isSpanContextValid,this.deleteSpan=f.deleteSpan,this.getSpan=f.getSpan,this.getActiveSpan=f.getActiveSpan,this.getSpanContext=f.getSpanContext,this.setSpan=f.setSpan,this.setSpanContext=f.setSpanContext}static getInstance(){return this._instance||(this._instance=new R),this._instance}setGlobalTracerProvider(v){let I=(0,c.registerGlobal)(b,this._proxyTracerProvider,p.DiagAPI.instance());return I&&this._proxyTracerProvider.setDelegate(v),I}getTracerProvider(){return(0,c.getGlobal)(b)||this._proxyTracerProvider}getTracer(v,I){return this.getTracerProvider().getTracer(v,I)}disable(){(0,c.unregisterGlobal)(b,p.DiagAPI.instance()),this._proxyTracerProvider=new x.ProxyTracerProvider}}o.TraceAPI=R},277:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.deleteBaggage=o.setBaggage=o.getActiveBaggage=o.getBaggage=void 0;let c=u(491),l=(0,u(780).createContextKey)("OpenTelemetry Baggage Key");function f(y){return y.getValue(l)||void 0}o.getBaggage=f;function p(){return f(c.ContextAPI.getInstance().active())}o.getActiveBaggage=p;function b(y,v){return y.setValue(l,v)}o.setBaggage=b;function R(y){return y.deleteValue(l)}o.deleteBaggage=R},993:(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BaggageImpl=void 0;class u{constructor(x){this._entries=x?new Map(x):new Map}getEntry(x){let l=this._entries.get(x);if(!!l)return Object.assign({},l)}getAllEntries(){return Array.from(this._entries.entries()).map(([x,l])=>[x,l])}setEntry(x,l){let f=new u(this._entries);return f._entries.set(x,l),f}removeEntry(x){let l=new u(this._entries);return l._entries.delete(x),l}removeEntries(...x){let l=new u(this._entries);for(let f of x)l._entries.delete(f);return l}clear(){return new u}}o.BaggageImpl=u},830:(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.baggageEntryMetadataSymbol=void 0,o.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.baggageEntryMetadataFromString=o.createBaggage=void 0;let c=u(930),x=u(993),l=u(830),f=c.DiagAPI.instance();function p(R={}){return new x.BaggageImpl(new Map(Object.entries(R)))}o.createBaggage=p;function b(R){return typeof R!="string"&&(f.error(`Cannot create baggage metadata from unknown type: ${typeof R}`),R=""),{__TYPE__:l.baggageEntryMetadataSymbol,toString(){return R}}}o.baggageEntryMetadataFromString=b},67:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.context=void 0;let c=u(491);o.context=c.ContextAPI.getInstance()},223:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NoopContextManager=void 0;let c=u(780);class x{active(){return c.ROOT_CONTEXT}with(f,p,b,...R){return p.call(b,...R)}bind(f,p){return p}enable(){return this}disable(){return this}}o.NoopContextManager=x},780:(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ROOT_CONTEXT=o.createContextKey=void 0;function u(x){return Symbol.for(x)}o.createContextKey=u;class c{constructor(l){let f=this;f._currentContext=l?new Map(l):new Map,f.getValue=p=>f._currentContext.get(p),f.setValue=(p,b)=>{let R=new c(f._currentContext);return R._currentContext.set(p,b),R},f.deleteValue=p=>{let b=new c(f._currentContext);return b._currentContext.delete(p),b}}}o.ROOT_CONTEXT=new c},506:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.diag=void 0;let c=u(930);o.diag=c.DiagAPI.instance()},56:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DiagComponentLogger=void 0;let c=u(172);class x{constructor(p){this._namespace=p.namespace||"DiagComponentLogger"}debug(...p){return l("debug",this._namespace,p)}error(...p){return l("error",this._namespace,p)}info(...p){return l("info",this._namespace,p)}warn(...p){return l("warn",this._namespace,p)}verbose(...p){return l("verbose",this._namespace,p)}}o.DiagComponentLogger=x;function l(f,p,b){let R=(0,c.getGlobal)("diag");if(!!R)return b.unshift(p),R[f](...b)}},972:(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DiagConsoleLogger=void 0;let u=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class c{constructor(){function l(f){return function(...p){if(console){let b=console[f];if(typeof b!="function"&&(b=console.log),typeof b=="function")return b.apply(console,p)}}}for(let f=0;f<u.length;f++)this[u[f].n]=l(u[f].c)}}o.DiagConsoleLogger=c},912:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createLogLevelDiagLogger=void 0;let c=u(957);function x(l,f){l<c.DiagLogLevel.NONE?l=c.DiagLogLevel.NONE:l>c.DiagLogLevel.ALL&&(l=c.DiagLogLevel.ALL),f=f||{};function p(b,R){let y=f[b];return typeof y=="function"&&l>=R?y.bind(f):function(){}}return{error:p("error",c.DiagLogLevel.ERROR),warn:p("warn",c.DiagLogLevel.WARN),info:p("info",c.DiagLogLevel.INFO),debug:p("debug",c.DiagLogLevel.DEBUG),verbose:p("verbose",c.DiagLogLevel.VERBOSE)}}o.createLogLevelDiagLogger=x},957:(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DiagLogLevel=void 0;var u;(function(c){c[c.NONE=0]="NONE",c[c.ERROR=30]="ERROR",c[c.WARN=50]="WARN",c[c.INFO=60]="INFO",c[c.DEBUG=70]="DEBUG",c[c.VERBOSE=80]="VERBOSE",c[c.ALL=9999]="ALL"})(u=o.DiagLogLevel||(o.DiagLogLevel={}))},172:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.unregisterGlobal=o.getGlobal=o.registerGlobal=void 0;let c=u(200),x=u(521),l=u(130),f=x.VERSION.split(".")[0],p=Symbol.for(`opentelemetry.js.api.${f}`),b=c._globalThis;function R(I,A,i,_=!1){var E;let N=b[p]=(E=b[p])!==null&&E!==void 0?E:{version:x.VERSION};if(!_&&N[I]){let O=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${I}`);return i.error(O.stack||O.message),!1}if(N.version!==x.VERSION){let O=new Error(`@opentelemetry/api: Registration of version v${N.version} for ${I} does not match previously registered API v${x.VERSION}`);return i.error(O.stack||O.message),!1}return N[I]=A,i.debug(`@opentelemetry/api: Registered a global for ${I} v${x.VERSION}.`),!0}o.registerGlobal=R;function y(I){var A,i;let _=(A=b[p])===null||A===void 0?void 0:A.version;if(!(!_||!(0,l.isCompatible)(_)))return(i=b[p])===null||i===void 0?void 0:i[I]}o.getGlobal=y;function v(I,A){A.debug(`@opentelemetry/api: Unregistering a global for ${I} v${x.VERSION}.`);let i=b[p];i&&delete i[I]}o.unregisterGlobal=v},130:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isCompatible=o._makeCompatibilityCheck=void 0;let c=u(521),x=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function l(f){let p=new Set([f]),b=new Set,R=f.match(x);if(!R)return()=>!1;let y={major:+R[1],minor:+R[2],patch:+R[3],prerelease:R[4]};if(y.prerelease!=null)return function(i){return i===f};function v(A){return b.add(A),!1}function I(A){return p.add(A),!0}return function(i){if(p.has(i))return!0;if(b.has(i))return!1;let _=i.match(x);if(!_)return v(i);let E={major:+_[1],minor:+_[2],patch:+_[3],prerelease:_[4]};return E.prerelease!=null||y.major!==E.major?v(i):y.major===0?y.minor===E.minor&&y.patch<=E.patch?I(i):v(i):y.minor<=E.minor?I(i):v(i)}}o._makeCompatibilityCheck=l,o.isCompatible=l(c.VERSION)},886:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.metrics=void 0;let c=u(653);o.metrics=c.MetricsAPI.getInstance()},901:(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ValueType=void 0;var u;(function(c){c[c.INT=0]="INT",c[c.DOUBLE=1]="DOUBLE"})(u=o.ValueType||(o.ValueType={}))},102:(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createNoopMeter=o.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=o.NOOP_OBSERVABLE_GAUGE_METRIC=o.NOOP_OBSERVABLE_COUNTER_METRIC=o.NOOP_UP_DOWN_COUNTER_METRIC=o.NOOP_HISTOGRAM_METRIC=o.NOOP_COUNTER_METRIC=o.NOOP_METER=o.NoopObservableUpDownCounterMetric=o.NoopObservableGaugeMetric=o.NoopObservableCounterMetric=o.NoopObservableMetric=o.NoopHistogramMetric=o.NoopUpDownCounterMetric=o.NoopCounterMetric=o.NoopMetric=o.NoopMeter=void 0;class u{constructor(){}createHistogram(A,i){return o.NOOP_HISTOGRAM_METRIC}createCounter(A,i){return o.NOOP_COUNTER_METRIC}createUpDownCounter(A,i){return o.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(A,i){return o.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(A,i){return o.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(A,i){return o.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(A,i){}removeBatchObservableCallback(A){}}o.NoopMeter=u;class c{}o.NoopMetric=c;class x extends c{add(A,i){}}o.NoopCounterMetric=x;class l extends c{add(A,i){}}o.NoopUpDownCounterMetric=l;class f extends c{record(A,i){}}o.NoopHistogramMetric=f;class p{addCallback(A){}removeCallback(A){}}o.NoopObservableMetric=p;class b extends p{}o.NoopObservableCounterMetric=b;class R extends p{}o.NoopObservableGaugeMetric=R;class y extends p{}o.NoopObservableUpDownCounterMetric=y,o.NOOP_METER=new u,o.NOOP_COUNTER_METRIC=new x,o.NOOP_HISTOGRAM_METRIC=new f,o.NOOP_UP_DOWN_COUNTER_METRIC=new l,o.NOOP_OBSERVABLE_COUNTER_METRIC=new b,o.NOOP_OBSERVABLE_GAUGE_METRIC=new R,o.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new y;function v(){return o.NOOP_METER}o.createNoopMeter=v},660:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NOOP_METER_PROVIDER=o.NoopMeterProvider=void 0;let c=u(102);class x{getMeter(f,p,b){return c.NOOP_METER}}o.NoopMeterProvider=x,o.NOOP_METER_PROVIDER=new x},200:function(h,o,u){var c=this&&this.__createBinding||(Object.create?function(l,f,p,b){b===void 0&&(b=p),Object.defineProperty(l,b,{enumerable:!0,get:function(){return f[p]}})}:function(l,f,p,b){b===void 0&&(b=p),l[b]=f[p]}),x=this&&this.__exportStar||function(l,f){for(var p in l)p!=="default"&&!Object.prototype.hasOwnProperty.call(f,p)&&c(f,l,p)};Object.defineProperty(o,"__esModule",{value:!0}),x(u(46),o)},651:(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o._globalThis=void 0,o._globalThis=typeof B=="object"?B:M.g},46:function(h,o,u){var c=this&&this.__createBinding||(Object.create?function(l,f,p,b){b===void 0&&(b=p),Object.defineProperty(l,b,{enumerable:!0,get:function(){return f[p]}})}:function(l,f,p,b){b===void 0&&(b=p),l[b]=f[p]}),x=this&&this.__exportStar||function(l,f){for(var p in l)p!=="default"&&!Object.prototype.hasOwnProperty.call(f,p)&&c(f,l,p)};Object.defineProperty(o,"__esModule",{value:!0}),x(u(651),o)},939:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.propagation=void 0;let c=u(181);o.propagation=c.PropagationAPI.getInstance()},874:(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NoopTextMapPropagator=void 0;class u{inject(x,l){}extract(x,l){return x}fields(){return[]}}o.NoopTextMapPropagator=u},194:(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.defaultTextMapSetter=o.defaultTextMapGetter=void 0,o.defaultTextMapGetter={get(u,c){if(u!=null)return u[c]},keys(u){return u==null?[]:Object.keys(u)}},o.defaultTextMapSetter={set(u,c,x){u!=null&&(u[c]=x)}}},845:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.trace=void 0;let c=u(997);o.trace=c.TraceAPI.getInstance()},403:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NonRecordingSpan=void 0;let c=u(476);class x{constructor(f=c.INVALID_SPAN_CONTEXT){this._spanContext=f}spanContext(){return this._spanContext}setAttribute(f,p){return this}setAttributes(f){return this}addEvent(f,p){return this}setStatus(f){return this}updateName(f){return this}end(f){}isRecording(){return!1}recordException(f,p){}}o.NonRecordingSpan=x},614:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NoopTracer=void 0;let c=u(491),x=u(607),l=u(403),f=u(139),p=c.ContextAPI.getInstance();class b{startSpan(v,I,A=p.active()){if(Boolean(I?.root))return new l.NonRecordingSpan;let _=A&&(0,x.getSpanContext)(A);return R(_)&&(0,f.isSpanContextValid)(_)?new l.NonRecordingSpan(_):new l.NonRecordingSpan}startActiveSpan(v,I,A,i){let _,E,N;if(arguments.length<2)return;arguments.length===2?N=I:arguments.length===3?(_=I,N=A):(_=I,E=A,N=i);let O=E??p.active(),S=this.startSpan(v,_,O),K=(0,x.setSpan)(O,S);return p.with(K,N,void 0,S)}}o.NoopTracer=b;function R(y){return typeof y=="object"&&typeof y.spanId=="string"&&typeof y.traceId=="string"&&typeof y.traceFlags=="number"}},124:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NoopTracerProvider=void 0;let c=u(614);class x{getTracer(f,p,b){return new c.NoopTracer}}o.NoopTracerProvider=x},125:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ProxyTracer=void 0;let c=u(614),x=new c.NoopTracer;class l{constructor(p,b,R,y){this._provider=p,this.name=b,this.version=R,this.options=y}startSpan(p,b,R){return this._getTracer().startSpan(p,b,R)}startActiveSpan(p,b,R,y){let v=this._getTracer();return Reflect.apply(v.startActiveSpan,v,arguments)}_getTracer(){if(this._delegate)return this._delegate;let p=this._provider.getDelegateTracer(this.name,this.version,this.options);return p?(this._delegate=p,this._delegate):x}}o.ProxyTracer=l},846:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ProxyTracerProvider=void 0;let c=u(125),x=u(124),l=new x.NoopTracerProvider;class f{getTracer(b,R,y){var v;return(v=this.getDelegateTracer(b,R,y))!==null&&v!==void 0?v:new c.ProxyTracer(this,b,R,y)}getDelegate(){var b;return(b=this._delegate)!==null&&b!==void 0?b:l}setDelegate(b){this._delegate=b}getDelegateTracer(b,R,y){var v;return(v=this._delegate)===null||v===void 0?void 0:v.getTracer(b,R,y)}}o.ProxyTracerProvider=f},996:(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SamplingDecision=void 0;var u;(function(c){c[c.NOT_RECORD=0]="NOT_RECORD",c[c.RECORD=1]="RECORD",c[c.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(u=o.SamplingDecision||(o.SamplingDecision={}))},607:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getSpanContext=o.setSpanContext=o.deleteSpan=o.setSpan=o.getActiveSpan=o.getSpan=void 0;let c=u(780),x=u(403),l=u(491),f=(0,c.createContextKey)("OpenTelemetry Context Key SPAN");function p(A){return A.getValue(f)||void 0}o.getSpan=p;function b(){return p(l.ContextAPI.getInstance().active())}o.getActiveSpan=b;function R(A,i){return A.setValue(f,i)}o.setSpan=R;function y(A){return A.deleteValue(f)}o.deleteSpan=y;function v(A,i){return R(A,new x.NonRecordingSpan(i))}o.setSpanContext=v;function I(A){var i;return(i=p(A))===null||i===void 0?void 0:i.spanContext()}o.getSpanContext=I},325:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TraceStateImpl=void 0;let c=u(564),x=32,l=512,f=",",p="=";class b{constructor(y){this._internalState=new Map,y&&this._parse(y)}set(y,v){let I=this._clone();return I._internalState.has(y)&&I._internalState.delete(y),I._internalState.set(y,v),I}unset(y){let v=this._clone();return v._internalState.delete(y),v}get(y){return this._internalState.get(y)}serialize(){return this._keys().reduce((y,v)=>(y.push(v+p+this.get(v)),y),[]).join(f)}_parse(y){y.length>l||(this._internalState=y.split(f).reverse().reduce((v,I)=>{let A=I.trim(),i=A.indexOf(p);if(i!==-1){let _=A.slice(0,i),E=A.slice(i+1,I.length);(0,c.validateKey)(_)&&(0,c.validateValue)(E)&&v.set(_,E)}return v},new Map),this._internalState.size>x&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,x))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let y=new b;return y._internalState=new Map(this._internalState),y}}o.TraceStateImpl=b},564:(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.validateValue=o.validateKey=void 0;let u="[_0-9a-z-*/]",c=`[a-z]${u}{0,255}`,x=`[a-z0-9]${u}{0,240}@[a-z]${u}{0,13}`,l=new RegExp(`^(?:${c}|${x})$`),f=/^[ -~]{0,255}[!-~]$/,p=/,|=/;function b(y){return l.test(y)}o.validateKey=b;function R(y){return f.test(y)&&!p.test(y)}o.validateValue=R},98:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createTraceState=void 0;let c=u(325);function x(l){return new c.TraceStateImpl(l)}o.createTraceState=x},476:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.INVALID_SPAN_CONTEXT=o.INVALID_TRACEID=o.INVALID_SPANID=void 0;let c=u(475);o.INVALID_SPANID="0000000000000000",o.INVALID_TRACEID="00000000000000000000000000000000",o.INVALID_SPAN_CONTEXT={traceId:o.INVALID_TRACEID,spanId:o.INVALID_SPANID,traceFlags:c.TraceFlags.NONE}},357:(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SpanKind=void 0;var u;(function(c){c[c.INTERNAL=0]="INTERNAL",c[c.SERVER=1]="SERVER",c[c.CLIENT=2]="CLIENT",c[c.PRODUCER=3]="PRODUCER",c[c.CONSUMER=4]="CONSUMER"})(u=o.SpanKind||(o.SpanKind={}))},139:(h,o,u)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.wrapSpanContext=o.isSpanContextValid=o.isValidSpanId=o.isValidTraceId=void 0;let c=u(476),x=u(403),l=/^([0-9a-f]{32})$/i,f=/^[0-9a-f]{16}$/i;function p(v){return l.test(v)&&v!==c.INVALID_TRACEID}o.isValidTraceId=p;function b(v){return f.test(v)&&v!==c.INVALID_SPANID}o.isValidSpanId=b;function R(v){return p(v.traceId)&&b(v.spanId)}o.isSpanContextValid=R;function y(v){return new x.NonRecordingSpan(v)}o.wrapSpanContext=y},847:(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SpanStatusCode=void 0;var u;(function(c){c[c.UNSET=0]="UNSET",c[c.OK=1]="OK",c[c.ERROR=2]="ERROR"})(u=o.SpanStatusCode||(o.SpanStatusCode={}))},475:(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TraceFlags=void 0;var u;(function(c){c[c.NONE=0]="NONE",c[c.SAMPLED=1]="SAMPLED"})(u=o.TraceFlags||(o.TraceFlags={}))},521:(h,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.VERSION=void 0,o.VERSION="1.6.0"}},U={};function D(h){var o=U[h];if(o!==void 0)return o.exports;var u=U[h]={exports:{}},c=!0;try{$[h].call(u.exports,u,u.exports,D),c=!1}finally{c&&delete U[h]}return u.exports}typeof D<"u"&&(D.ab=C+"/");var F={};(()=>{var h=F;Object.defineProperty(h,"__esModule",{value:!0}),h.trace=h.propagation=h.metrics=h.diag=h.context=h.INVALID_SPAN_CONTEXT=h.INVALID_TRACEID=h.INVALID_SPANID=h.isValidSpanId=h.isValidTraceId=h.isSpanContextValid=h.createTraceState=h.TraceFlags=h.SpanStatusCode=h.SpanKind=h.SamplingDecision=h.ProxyTracerProvider=h.ProxyTracer=h.defaultTextMapSetter=h.defaultTextMapGetter=h.ValueType=h.createNoopMeter=h.DiagLogLevel=h.DiagConsoleLogger=h.ROOT_CONTEXT=h.createContextKey=h.baggageEntryMetadataFromString=void 0;var o=D(369);Object.defineProperty(h,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return o.baggageEntryMetadataFromString}});var u=D(780);Object.defineProperty(h,"createContextKey",{enumerable:!0,get:function(){return u.createContextKey}}),Object.defineProperty(h,"ROOT_CONTEXT",{enumerable:!0,get:function(){return u.ROOT_CONTEXT}});var c=D(972);Object.defineProperty(h,"DiagConsoleLogger",{enumerable:!0,get:function(){return c.DiagConsoleLogger}});var x=D(957);Object.defineProperty(h,"DiagLogLevel",{enumerable:!0,get:function(){return x.DiagLogLevel}});var l=D(102);Object.defineProperty(h,"createNoopMeter",{enumerable:!0,get:function(){return l.createNoopMeter}});var f=D(901);Object.defineProperty(h,"ValueType",{enumerable:!0,get:function(){return f.ValueType}});var p=D(194);Object.defineProperty(h,"defaultTextMapGetter",{enumerable:!0,get:function(){return p.defaultTextMapGetter}}),Object.defineProperty(h,"defaultTextMapSetter",{enumerable:!0,get:function(){return p.defaultTextMapSetter}});var b=D(125);Object.defineProperty(h,"ProxyTracer",{enumerable:!0,get:function(){return b.ProxyTracer}});var R=D(846);Object.defineProperty(h,"ProxyTracerProvider",{enumerable:!0,get:function(){return R.ProxyTracerProvider}});var y=D(996);Object.defineProperty(h,"SamplingDecision",{enumerable:!0,get:function(){return y.SamplingDecision}});var v=D(357);Object.defineProperty(h,"SpanKind",{enumerable:!0,get:function(){return v.SpanKind}});var I=D(847);Object.defineProperty(h,"SpanStatusCode",{enumerable:!0,get:function(){return I.SpanStatusCode}});var A=D(475);Object.defineProperty(h,"TraceFlags",{enumerable:!0,get:function(){return A.TraceFlags}});var i=D(98);Object.defineProperty(h,"createTraceState",{enumerable:!0,get:function(){return i.createTraceState}});var _=D(139);Object.defineProperty(h,"isSpanContextValid",{enumerable:!0,get:function(){return _.isSpanContextValid}}),Object.defineProperty(h,"isValidTraceId",{enumerable:!0,get:function(){return _.isValidTraceId}}),Object.defineProperty(h,"isValidSpanId",{enumerable:!0,get:function(){return _.isValidSpanId}});var E=D(476);Object.defineProperty(h,"INVALID_SPANID",{enumerable:!0,get:function(){return E.INVALID_SPANID}}),Object.defineProperty(h,"INVALID_TRACEID",{enumerable:!0,get:function(){return E.INVALID_TRACEID}}),Object.defineProperty(h,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return E.INVALID_SPAN_CONTEXT}});let N=D(67);Object.defineProperty(h,"context",{enumerable:!0,get:function(){return N.context}});let O=D(506);Object.defineProperty(h,"diag",{enumerable:!0,get:function(){return O.diag}});let S=D(886);Object.defineProperty(h,"metrics",{enumerable:!0,get:function(){return S.metrics}});let K=D(939);Object.defineProperty(h,"propagation",{enumerable:!0,get:function(){return K.propagation}});let k=D(845);Object.defineProperty(h,"trace",{enumerable:!0,get:function(){return k.trace}}),h.default={context:N.context,diag:O.diag,metrics:S.metrics,propagation:K.propagation,trace:k.trace}})(),G.exports=F})()},1053:G=>{"use strict";var W="/";(()=>{"use strict";typeof __nccwpck_require__<"u"&&(__nccwpck_require__.ab=W+"/");var M={};(()=>{var C=M;C.parse=h,C.serialize=o;var $=decodeURIComponent,U=encodeURIComponent,D=/; */,F=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function h(c,x){if(typeof c!="string")throw new TypeError("argument str must be a string");for(var l={},f=x||{},p=c.split(D),b=f.decode||$,R=0;R<p.length;R++){var y=p[R],v=y.indexOf("=");if(!(v<0)){var I=y.substr(0,v).trim(),A=y.substr(++v,y.length).trim();A[0]=='"'&&(A=A.slice(1,-1)),l[I]==null&&(l[I]=u(A,b))}}return l}function o(c,x,l){var f=l||{},p=f.encode||U;if(typeof p!="function")throw new TypeError("option encode is invalid");if(!F.test(c))throw new TypeError("argument name is invalid");var b=p(x);if(b&&!F.test(b))throw new TypeError("argument val is invalid");var R=c+"="+b;if(f.maxAge!=null){var y=f.maxAge-0;if(isNaN(y)||!isFinite(y))throw new TypeError("option maxAge is invalid");R+="; Max-Age="+Math.floor(y)}if(f.domain){if(!F.test(f.domain))throw new TypeError("option domain is invalid");R+="; Domain="+f.domain}if(f.path){if(!F.test(f.path))throw new TypeError("option path is invalid");R+="; Path="+f.path}if(f.expires){if(typeof f.expires.toUTCString!="function")throw new TypeError("option expires is invalid");R+="; Expires="+f.expires.toUTCString()}if(f.httpOnly&&(R+="; HttpOnly"),f.secure&&(R+="; Secure"),f.sameSite){var v=typeof f.sameSite=="string"?f.sameSite.toLowerCase():f.sameSite;switch(v){case!0:R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"strict":R+="; SameSite=Strict";break;case"none":R+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return R}function u(c,x){try{return x(c)}catch{return c}}})(),G.exports=M})()},687:G=>{"use strict";let W=["chrome 64","edge 79","firefox 67","opera 51","safari 12"];G.exports=W},3241:(G,W,M)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});function C(o,u){for(var c in u)Object.defineProperty(o,c,{enumerable:!0,get:u[c]})}C(W,{withRequest:function(){return F},getTestReqInfo:function(){return h}});let $=M(2067),U=new $.AsyncLocalStorage;function D(o,u){let c=u.header(o,"next-test-proxy-port");if(!c)return;let x=u.url(o),l=Number(c),f=u.header(o,"next-test-data")||"";return{url:x,proxyPort:l,testData:f}}function F(o,u,c){let x=D(o,u);return x?U.run(x,c):c()}function h(o,u){let c=U.getStore();if(c)return c;if(o&&u)return D(o,u)}},5178:(G,W,M)=>{"use strict";var C=M(6195).Buffer;Object.defineProperty(W,"__esModule",{value:!0});function $(x,l){for(var f in l)Object.defineProperty(x,f,{enumerable:!0,get:l[f]})}$(W,{reader:function(){return D},handleFetch:function(){return u},interceptFetch:function(){return c}});let U=M(3241),D={url(x){return x.url},header(x,l){return x.headers.get(l)}};function F(){let x=(new Error().stack??"").split(`
`);for(let l=1;l<x.length;l++)if(x[l].length>0){x=x.slice(l);break}return x=x.filter(l=>!l.includes("/next/dist/")),x=x.slice(0,5),x=x.map(l=>l.replace("webpack-internal:///(rsc)/","").trim()),x.join("    ")}async function h(x,l){let{url:f,method:p,headers:b,body:R,cache:y,credentials:v,integrity:I,mode:A,redirect:i,referrer:_,referrerPolicy:E}=l;return{testData:x,api:"fetch",request:{url:f,method:p,headers:[...Array.from(b),["next-test-stack",F()]],body:R?C.from(await l.arrayBuffer()).toString("base64"):null,cache:y,credentials:v,integrity:I,mode:A,redirect:i,referrer:_,referrerPolicy:E}}}function o(x){let{status:l,headers:f,body:p}=x.response;return new Response(p?C.from(p,"base64"):null,{status:l,headers:new Headers(f)})}async function u(x,l){let f=(0,U.getTestReqInfo)(l,D);if(!f)throw new Error(`No test info for ${l.method} ${l.url}`);let{testData:p,proxyPort:b}=f,R=await h(p,l),y=await x(`http://localhost:${b}`,{method:"POST",body:JSON.stringify(R),next:{internal:!0}});if(!y.ok)throw new Error(`Proxy request failed: ${y.status}`);let v=await y.json(),{api:I}=v;switch(I){case"continue":return x(l);case"abort":case"unhandled":throw new Error(`Proxy request aborted [${l.method} ${l.url}]`);default:break}return o(v)}function c(x){return M.g.fetch=function(f,p){var b;return!(p==null||(b=p.next)==null)&&b.internal?x(f,p):u(x,new Request(f,p))},()=>{M.g.fetch=x}}},3457:(G,W,M)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});function C(h,o){for(var u in o)Object.defineProperty(h,u,{enumerable:!0,get:o[u]})}C(W,{interceptTestApis:function(){return D},wrapRequestHandler:function(){return F}});let $=M(3241),U=M(5178);function D(){return(0,U.interceptFetch)(M.g.fetch)}function F(h){return(o,u)=>(0,$.withRequest)(o,U.reader,()=>h(o,u))}},9186:(G,W,M)=>{"use strict";M.d(W,{P:()=>D});let C=new Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available");class ${disable(){throw C}getStore(){}run(){throw C}exit(){throw C}enterWith(){throw C}}let U=B.AsyncLocalStorage;function D(){return U?new U:new $}}},G=>{var W=C=>G(G.s=C),M=W(4610);(B._ENTRIES=typeof B._ENTRIES>"u"?{}:B._ENTRIES)["middleware_src/middleware"]=M}]),function(){let G={exports:{},loaded:!1};return function(M,C){var $=Object.create,U=Object.defineProperty,D=Object.getOwnPropertyDescriptor,F=Object.getOwnPropertyNames,h=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,u=S=>U(S,"__esModule",{value:!0}),c=(S,K)=>{u(S);for(var k in K)U(S,k,{get:K[k],enumerable:!0})},x=(S,K,k)=>{if(K&&typeof K=="object"||typeof K=="function")for(let j of F(K))!o.call(S,j)&&j!=="default"&&U(S,j,{get:()=>K[j],enumerable:!(k=D(K,j))||k.enumerable});return S},l=S=>x(u(U(S!=null?$(h(S)):{},"default",S&&S.__esModule&&"default"in S?{get:()=>S.default,enumerable:!0}:{value:S,enumerable:!0})),S);c(C,{default:()=>_});var f=l((Ar(),ht(je))),p="@next/request-context",b=Symbol.for(p),R=Symbol.for("internal.storage");function y(){let S=B;if(!S[b]){let K=new f.AsyncLocalStorage,k={get:()=>K.getStore(),[R]:K};S[b]=k}return S[b]}var v=y();function I(S,K){return v[R].run(S,K)}function A(S){let K={};return S&&S.forEach((k,j)=>{K[j]=k,j.toLowerCase()==="set-cookie"&&(K[j]=i(k))}),K}function i(S){let K=[],k=0,j,Q,Z,oe,se;function re(){for(;k<S.length&&/\s/.test(S.charAt(k));)k+=1;return k<S.length}function T(){return Q=S.charAt(k),Q!=="="&&Q!==";"&&Q!==","}for(;k<S.length;){for(j=k,se=!1;re();)if(Q=S.charAt(k),Q===","){for(Z=k,k+=1,re(),oe=k;k<S.length&&T();)k+=1;k<S.length&&S.charAt(k)==="="?(se=!0,k=oe,K.push(S.substring(j,Z)),j=k):k=Z+1}else k+=1;(!se||k>=S.length)&&K.push(S.substring(j,S.length))}return K}function _(S){let K=S.staticRoutes.map(j=>({regexp:new RegExp(j.namedRegex),page:j.page})),k=S.dynamicRoutes?.map(j=>({regexp:new RegExp(j.namedRegex),page:j.page}))||[];return async function(j,Q){let Z=new URL(j.url).pathname,oe={};if(S.nextConfig?.basePath&&Z.startsWith(S.nextConfig.basePath)&&(Z=Z.replace(S.nextConfig.basePath,"")||"/"),S.nextConfig?.i18n)for(let re of S.nextConfig.i18n.locales){let T=new RegExp(`^/${re}($|/)`,"i");if(Z.match(T)){Z=Z.replace(T,"/")||"/";break}}for(let re of K)if(re.regexp.exec(Z)){oe.name=re.page;break}if(!oe.name){let re=N(Z);for(let T of k||[]){if(re&&!N(T.page))continue;let ue=T.regexp.exec(Z);if(ue){oe={name:T.page,params:ue.groups};break}}}let se=await I({waitUntil:Q.waitUntil},()=>B._ENTRIES[`middleware_${S.name}`].default.call({},{request:{url:j.url,method:j.method,headers:A(j.headers),ip:E(j.headers,O.Ip),geo:{city:E(j.headers,O.City,!0),country:E(j.headers,O.Country,!0),latitude:E(j.headers,O.Latitude),longitude:E(j.headers,O.Longitude),region:E(j.headers,O.Region,!0)},nextConfig:S.nextConfig,page:oe,body:j.body}}));return se.waitUntil&&Q.waitUntil(se.waitUntil),se.response}}function E(S,K,k=!1){let j=S.get(K)||void 0;return k&&j?decodeURIComponent(j):j}function N(S){return S==="/api"||S.startsWith("/api/")}var O;(function(S){S.City="x-vercel-ip-city",S.Country="x-vercel-ip-country",S.Ip="x-real-ip",S.Latitude="x-vercel-ip-latitude",S.Longitude="x-vercel-ip-longitude",S.Region="x-vercel-ip-country-region"})(O||(O={}))}(G,G.exports),G.exports}.call({}).default({name:"src/middleware",staticRoutes:[{page:"/",regex:"^/(?:/)?$",routeKeys:{},namedRegex:"^/(?:/)?$"},{page:"/_not-found",regex:"^/_not\\-found(?:/)?$",routeKeys:{},namedRegex:"^/_not\\-found(?:/)?$"},{page:"/admin",regex:"^/admin(?:/)?$",routeKeys:{},namedRegex:"^/admin(?:/)?$"},{page:"/admin/categories",regex:"^/admin/categories(?:/)?$",routeKeys:{},namedRegex:"^/admin/categories(?:/)?$"},{page:"/admin/contact",regex:"^/admin/contact(?:/)?$",routeKeys:{},namedRegex:"^/admin/contact(?:/)?$"},{page:"/admin/contact/messages",regex:"^/admin/contact/messages(?:/)?$",routeKeys:{},namedRegex:"^/admin/contact/messages(?:/)?$"},{page:"/admin/products",regex:"^/admin/products(?:/)?$",routeKeys:{},namedRegex:"^/admin/products(?:/)?$"},{page:"/admin/products/new",regex:"^/admin/products/new(?:/)?$",routeKeys:{},namedRegex:"^/admin/products/new(?:/)?$"},{page:"/admin/resources",regex:"^/admin/resources(?:/)?$",routeKeys:{},namedRegex:"^/admin/resources(?:/)?$"},{page:"/admin/resources/events/new",regex:"^/admin/resources/events/new(?:/)?$",routeKeys:{},namedRegex:"^/admin/resources/events/new(?:/)?$"},{page:"/admin/resources/news/new",regex:"^/admin/resources/news/new(?:/)?$",routeKeys:{},namedRegex:"^/admin/resources/news/new(?:/)?$"},{page:"/cozumler",regex:"^/cozumler(?:/)?$",routeKeys:{},namedRegex:"^/cozumler(?:/)?$"},{page:"/cozumler/anahtar-teslim-projeler",regex:"^/cozumler/anahtar\\-teslim\\-projeler(?:/)?$",routeKeys:{},namedRegex:"^/cozumler/anahtar\\-teslim\\-projeler(?:/)?$"},{page:"/cozumler/ar-ge-laboratuvarlari",regex:"^/cozumler/ar\\-ge\\-laboratuvarlari(?:/)?$",routeKeys:{},namedRegex:"^/cozumler/ar\\-ge\\-laboratuvarlari(?:/)?$"},{page:"/cozumler/endustriyel-laboratuvar-kurulumu",regex:"^/cozumler/endustriyel\\-laboratuvar\\-kurulumu(?:/)?$",routeKeys:{},namedRegex:"^/cozumler/endustriyel\\-laboratuvar\\-kurulumu(?:/)?$"},{page:"/cozumler/kalite-guvence-sistemleri",regex:"^/cozumler/kalite\\-guvence\\-sistemleri(?:/)?$",routeKeys:{},namedRegex:"^/cozumler/kalite\\-guvence\\-sistemleri(?:/)?$"},{page:"/cozumler/otomasyon-sistemleri",regex:"^/cozumler/otomasyon\\-sistemleri(?:/)?$",routeKeys:{},namedRegex:"^/cozumler/otomasyon\\-sistemleri(?:/)?$"},{page:"/hakkimizda",regex:"^/hakkimizda(?:/)?$",routeKeys:{},namedRegex:"^/hakkimizda(?:/)?$"},{page:"/iletisim",regex:"^/iletisim(?:/)?$",routeKeys:{},namedRegex:"^/iletisim(?:/)?$"},{page:"/kaynaklar",regex:"^/kaynaklar(?:/)?$",routeKeys:{},namedRegex:"^/kaynaklar(?:/)?$"},{page:"/login",regex:"^/login(?:/)?$",routeKeys:{},namedRegex:"^/login(?:/)?$"},{page:"/sektorler",regex:"^/sektorler(?:/)?$",routeKeys:{},namedRegex:"^/sektorler(?:/)?$"},{page:"/teklif-al",regex:"^/teklif\\-al(?:/)?$",routeKeys:{},namedRegex:"^/teklif\\-al(?:/)?$"},{page:"/urunler",regex:"^/urunler(?:/)?$",routeKeys:{},namedRegex:"^/urunler(?:/)?$"}],dynamicRoutes:[{page:"/admin/products/[id]/edit",regex:"^/admin/products/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/admin/products/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/admin/resources/events/[id]/edit",regex:"^/admin/resources/events/([^/]+?)/edit(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/admin/resources/events/(?<nxtPid>[^/]+?)/edit(?:/)?$"},{page:"/admin/resources/news/edit/[id]",regex:"^/admin/resources/news/edit/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/admin/resources/news/edit/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/events/[id]",regex:"^/api/events/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/events/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/news/[id]",regex:"^/api/news/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/news/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/api/products/[id]",regex:"^/api/products/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/api/products/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/kaynaklar/etkinlik/[id]",regex:"^/kaynaklar/etkinlik/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/kaynaklar/etkinlik/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/kaynaklar/haber/[id]",regex:"^/kaynaklar/haber/([^/]+?)(?:/)?$",routeKeys:{nxtPid:"nxtPid"},namedRegex:"^/kaynaklar/haber/(?<nxtPid>[^/]+?)(?:/)?$"},{page:"/urunler/[category]",regex:"^/urunler/([^/]+?)(?:/)?$",routeKeys:{nxtPcategory:"nxtPcategory"},namedRegex:"^/urunler/(?<nxtPcategory>[^/]+?)(?:/)?$"},{page:"/urunler/[category]/[subcategory]",regex:"^/urunler/([^/]+?)/([^/]+?)(?:/)?$",routeKeys:{nxtPcategory:"nxtPcategory",nxtPsubcategory:"nxtPsubcategory"},namedRegex:"^/urunler/(?<nxtPcategory>[^/]+?)/(?<nxtPsubcategory>[^/]+?)(?:/)?$"},{page:"/urunler/[category]/[subcategory]/[product]",regex:"^/urunler/([^/]+?)/([^/]+?)/([^/]+?)(?:/)?$",routeKeys:{nxtPcategory:"nxtPcategory",nxtPsubcategory:"nxtPsubcategory",nxtPproduct:"nxtPproduct"},namedRegex:"^/urunler/(?<nxtPcategory>[^/]+?)/(?<nxtPsubcategory>[^/]+?)/(?<nxtPproduct>[^/]+?)(?:/)?$"}],nextConfig:{basePath:""}})))(gt,gt,gt);export{Gs as default};
/*!
* cookie
* Copyright(c) 2012-2014 Roman Shtylman
* Copyright(c) 2015 Douglas Christopher Wilson
* MIT Licensed
*/
