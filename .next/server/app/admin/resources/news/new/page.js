(()=>{var e={};e.id=540,e.ids=[540],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4400:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>g,tree:()=>d});var t=a(482),s=a(9108),l=a(2563),i=a.n(l),n=a(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(r,o);let d=["",{children:["admin",{children:["resources",{children:["news",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9766)),"/Users/denizhan/Documents/Windsurf/protekanalitik/src/app/admin/resources/news/new/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,2050)),"/Users/denizhan/Documents/Windsurf/protekanalitik/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,1342)),"/Users/denizhan/Documents/Windsurf/protekanalitik/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/denizhan/Documents/Windsurf/protekanalitik/src/app/admin/resources/news/new/page.tsx"],u="/admin/resources/news/new/page",m={require:a,loadChunk:()=>Promise.resolve()},g=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/resources/news/new/page",pathname:"/admin/resources/news/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2500:(e,r,a)=>{Promise.resolve().then(a.bind(a,406))},406:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>d});var t=a(2295),s=a(3729),l=a(2254),i=a(3925),n=a(4843),o=a(5327);function d(){let e=(0,l.useRouter)(),[r,a]=(0,s.useState)(!1),[d,c]=(0,s.useState)(null),[u,m]=(0,s.useState)({title:"",slug:"",summary:"",content:"",category:"sirket-haberleri",author:"",publish_date:"",image_url:"",tags:"",is_featured:!1,is_published:!1,meta_title:"",meta_description:"",meta_keywords:""}),g=e=>e.toLowerCase().replace(/ğ/g,"g").replace(/ü/g,"u").replace(/ş/g,"s").replace(/ı/g,"i").replace(/ö/g,"o").replace(/ç/g,"c").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),h=e=>{m(r=>({...r,title:e,slug:g(e)}))},x=async r=>{r.preventDefault(),a(!0),c(null);try{let r=await fetch("/api/news",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(u)}),a=await r.json();if(r.ok)e.push("/admin/resources");else throw Error(a.error||"Failed to create news article")}catch(e){c(e instanceof Error?e.message:"Failed to create news article")}finally{a(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[t.jsx("button",{onClick:()=>e.push("/admin/resources"),className:"p-2 text-gray-400 hover:text-gray-600",children:t.jsx(i.Z,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx(n.Z,{className:"w-8 h-8 text-indigo-600"}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Yeni Haber"})]})]}),(0,t.jsxs)("form",{onSubmit:x,className:"space-y-8",children:[(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Haber Bilgileri"})}),(0,t.jsxs)("div",{className:"px-6 py-4 space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Başlık *"}),t.jsx("input",{type:"text",id:"title",required:!0,value:u.title,onChange:e=>h(e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Haber başlığını girin"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-2",children:"URL Slug *"}),t.jsx("input",{type:"text",id:"slug",required:!0,value:u.slug,onChange:e=>m(r=>({...r,slug:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"url-slug"}),(0,t.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["URL: /haberler/",u.slug]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"summary",className:"block text-sm font-medium text-gray-700 mb-2",children:"\xd6zet"}),t.jsx("textarea",{id:"summary",rows:3,value:u.summary,onChange:e=>m(r=>({...r,summary:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Haber \xf6zetini girin"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-2",children:"İ\xe7erik *"}),t.jsx("textarea",{id:"content",rows:10,required:!0,value:u.content,onChange:e=>m(r=>({...r,content:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Haber i\xe7eriğini girin"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategori *"}),t.jsx("select",{id:"category",required:!0,value:u.category,onChange:e=>m(r=>({...r,category:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[{value:"sirket-haberleri",label:"Şirket Haberleri"},{value:"sektor-guncel",label:"Sekt\xf6r G\xfcncel"},{value:"basari-hikayeleri",label:"Başarı Hikayeleri"}].map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"author",className:"block text-sm font-medium text-gray-700 mb-2",children:"Yazar *"}),t.jsx("input",{type:"text",id:"author",required:!0,value:u.author,onChange:e=>m(r=>({...r,author:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Yazar adı"})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"publish_date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Yayın Tarihi"}),t.jsx("input",{type:"date",id:"publish_date",value:u.publish_date,onChange:e=>m(r=>({...r,publish_date:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})}),t.jsx("div",{children:t.jsx(o.Z,{value:u.image_url,onChange:e=>m(r=>({...r,image_url:e})),label:"Haber G\xf6rseli"})}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-2",children:"Etiketler"}),t.jsx("input",{type:"text",id:"tags",value:u.tags,onChange:e=>m(r=>({...r,tags:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"etiket1, etiket2, etiket3"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Etiketleri virg\xfclle ayırın"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("input",{id:"is_featured",type:"checkbox",checked:u.is_featured,onChange:e=>m(r=>({...r,is_featured:e.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),t.jsx("label",{htmlFor:"is_featured",className:"ml-2 block text-sm text-gray-900",children:"\xd6ne \xe7ıkan haber olarak işaretle"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("input",{id:"is_published",type:"checkbox",checked:u.is_published,onChange:e=>m(r=>({...r,is_published:e.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),t.jsx("label",{htmlFor:"is_published",className:"ml-2 block text-sm text-gray-900",children:"Haberi yayına al"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"SEO Ayarları"})}),(0,t.jsxs)("div",{className:"px-6 py-4 space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"meta_title",className:"block text-sm font-medium text-gray-700 mb-2",children:"SEO Başlığı"}),t.jsx("input",{type:"text",id:"meta_title",value:u.meta_title,onChange:e=>m(r=>({...r,meta_title:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"SEO i\xe7in \xf6zel başlık (boş bırakılırsa normal başlık kullanılır)"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"meta_description",className:"block text-sm font-medium text-gray-700 mb-2",children:"SEO A\xe7ıklaması"}),t.jsx("textarea",{id:"meta_description",rows:3,value:u.meta_description,onChange:e=>m(r=>({...r,meta_description:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Arama motorları i\xe7in a\xe7ıklama"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"meta_keywords",className:"block text-sm font-medium text-gray-700 mb-2",children:"SEO Anahtar Kelimeler"}),t.jsx("input",{type:"text",id:"meta_keywords",value:u.meta_keywords,onChange:e=>m(r=>({...r,meta_keywords:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"anahtar1, anahtar2, anahtar3"})]})]})]}),d&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:t.jsx("p",{className:"text-red-800",children:d})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[t.jsx("button",{type:"button",onClick:()=>e.push("/admin/resources"),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"İptal"}),t.jsx("button",{type:"submit",disabled:r,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Kaydediliyor...":"Haber Oluştur"})]})]})]})}},5327:(e,r,a)=>{"use strict";a.d(r,{Z:()=>o});var t=a(2295),s=a(3729),l=a(7602),i=a(1317),n=a(2514);function o({value:e,onChange:r,label:a="Resim",className:o=""}){let[d,c]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),g=(0,s.useRef)(null),h=async e=>{if(!e.type.startsWith("image/")){alert("L\xfctfen sadece resim dosyası se\xe7in.");return}if(e.size>5242880){alert("Dosya boyutu 5MB'dan k\xfc\xe7\xfck olmalıdır.");return}c(!0);try{let a=new FormData;a.append("file",e);let t=await fetch("/api/upload",{method:"POST",body:a,credentials:"include"}),s=await t.json();if(console.log("Upload response:",s),s.success){let e=s.data?.url||s.url;console.log("Setting image URL:",e),r(e)}else alert(s.error||"Resim y\xfcklenirken hata oluştu.")}catch(e){console.error("Upload error:",e),alert("Resim y\xfcklenirken hata oluştu.")}finally{c(!1)}};return(0,t.jsxs)("div",{className:`space-y-4 ${o}`,children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a}),e&&(0,t.jsxs)("div",{className:"relative",children:[t.jsx("img",{src:e,alt:"\xd6nizleme",className:"w-full h-48 object-cover rounded-lg border border-gray-200"}),t.jsx("button",{type:"button",onClick:()=>{r(""),g.current&&(g.current.value="")},className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors",children:t.jsx(l.Z,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{onDrop:e=>{e.preventDefault(),m(!1);let r=Array.from(e.dataTransfer.files);r.length>0&&h(r[0])},onDragOver:e=>{e.preventDefault(),m(!0)},onDragLeave:()=>m(!1),className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${u?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[t.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:e=>{let r=e.target.files;r&&r.length>0&&h(r[0])},className:"hidden"}),d?(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Y\xfckleniyor..."})]}):(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(i.Z,{className:"w-12 h-12 text-gray-400 mx-auto"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("button",{type:"button",onClick:()=>g.current?.click(),className:"inline-flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx(n.Z,{className:"w-4 h-4"}),t.jsx("span",{children:"Dosya Se\xe7"})]}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"veya dosyayı s\xfcr\xfckleyip bırakın"})]}),t.jsx("p",{className:"text-xs text-gray-400",children:"PNG, JPG, JPEG, WebP (Max: 5MB)"})]})]}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-gray-300"})}),t.jsx("div",{className:"relative flex justify-center text-sm",children:t.jsx("span",{className:"px-2 bg-gray-50 text-gray-500",children:"veya URL girin"})})]}),t.jsx("input",{type:"text",value:e&&e.startsWith("data:")?"":e||"",onChange:e=>r(e.target.value),placeholder:"https://example.com/image.jpg veya /images/product.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}},9766:(e,r,a)=>{"use strict";a.r(r),a.d(r,{$$typeof:()=>l,__esModule:()=>s,default:()=>i});let t=(0,a(6843).createProxy)(String.raw`/Users/denizhan/Documents/Windsurf/protekanalitik/src/app/admin/resources/news/new/page.tsx`),{__esModule:s,$$typeof:l}=t,i=t.default},3925:(e,r,a)=>{"use strict";a.d(r,{Z:()=>s});var t=a(3729);let s=t.forwardRef(function({title:e,titleId:r,...a},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))})},2514:(e,r,a)=>{"use strict";a.d(r,{Z:()=>s});var t=a(3729);let s=t.forwardRef(function({title:e,titleId:r,...a},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))})},4843:(e,r,a)=>{"use strict";a.d(r,{Z:()=>s});var t=a(3729);let s=t.forwardRef(function({title:e,titleId:r,...a},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 0 1-2.25 2.25M16.5 7.5V18a2.25 2.25 0 0 0 2.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 0 0 2.25 2.25h13.5M6 7.5h3v3H6v-3Z"}))})},1317:(e,r,a)=>{"use strict";a.d(r,{Z:()=>s});var t=a(3729);let s=t.forwardRef(function({title:e,titleId:r,...a},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))})}};var r=require("../../../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[1638,312,8588,3227],()=>a(4400));module.exports=t})();