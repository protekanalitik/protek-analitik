(()=>{var e={};e.id=7698,e.ids=[7698],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8461:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var a=t(482),s=t(9108),l=t(2563),n=t.n(l),i=t(8300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(r,o);let d=["",{children:["admin",{children:["resources",{children:["events",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8193)),"/Users/denizhan/Documents/Windsurf/protekanalitik/src/app/admin/resources/events/[id]/edit/page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2050)),"/Users/denizhan/Documents/Windsurf/protekanalitik/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,1342)),"/Users/denizhan/Documents/Windsurf/protekanalitik/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/denizhan/Documents/Windsurf/protekanalitik/src/app/admin/resources/events/[id]/edit/page.tsx"],u="/admin/resources/events/[id]/edit/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/resources/events/[id]/edit/page",pathname:"/admin/resources/events/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4684:(e,r,t)=>{Promise.resolve().then(t.bind(t,323))},323:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var a=t(2295),s=t(3729),l=t(2254),n=t(783),i=t.n(n),o=t(3925),d=t(1179),c=t(5327);function u(){let e=(0,l.useRouter)(),r=(0,l.useParams)().id,[t,n]=(0,s.useState)(!1),[u,m]=(0,s.useState)(null),[x,g]=(0,s.useState)({title:"",description:"",content:"",event_type:"seminer",start_date:"",end_date:"",location:"",image_url:"",registration_url:"",is_featured:!1});(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch(`/api/events/${r}`),t=await e.json();if(t.success){let e=t.data;m(e),g({title:e.title,description:e.description,content:e.content,event_type:e.event_type,start_date:e.start_date,end_date:e.end_date||"",location:e.location,image_url:e.image_url,registration_url:e.registration_url||"",is_featured:e.is_featured||!1})}}catch(e){console.error("Etkinlik y\xfckleme hatası:",e)}})()},[r]);let p=async t=>{t.preventDefault(),n(!0);try{let t={...x,end_date:x.end_date||void 0,registration_url:x.registration_url||void 0},a=await fetch(`/api/events/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await a.json();s.success?(alert("Etkinlik başarıyla g\xfcncellendi!"),e.push("/admin/resources")):alert(`Hata: ${s.error}`)}catch(e){console.error("Etkinlik g\xfcncelleme hatası:",e),alert("Hata: Etkinlik g\xfcncellenirken bir sorun oluştu.")}finally{n(!1)}};return u?(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(i(),{href:"/admin/resources",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(o.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Etkinlik D\xfczenle"}),(0,a.jsxs)("p",{className:"text-gray-600",children:[u.title," - ID: ",u.id]})]})]})}),a.jsx("form",{onSubmit:p,className:"space-y-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Temel Bilgiler"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Etkinlik Adı *"}),a.jsx("input",{type:"text",required:!0,value:x.title,onChange:e=>g(r=>({...r,title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Etkinlik adını girin"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kısa A\xe7ıklama *"}),a.jsx("textarea",{required:!0,rows:3,value:x.description,onChange:e=>g(r=>({...r,description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Etkinlik'in a\xe7ıklamasını girin"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Etkinlik T\xfcr\xfc *"}),a.jsx("select",{required:!0,value:x.event_type,onChange:e=>g(r=>({...r,event_type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[{value:"fuar",label:"Fuar"},{value:"seminer",label:"Seminer"},{value:"webinar",label:"Webinar"},{value:"workshop",label:"Workshop"},{value:"konferans",label:"Konferans"}].map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Başlangı\xe7 Tarihi *"}),a.jsx("input",{type:"date",required:!0,value:x.start_date,onChange:e=>g(r=>({...r,start_date:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bitiş Tarihi"}),a.jsx("input",{type:"date",value:x.end_date,onChange:e=>g(r=>({...r,end_date:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lokasyon *"}),a.jsx("input",{type:"text",required:!0,value:x.location,onChange:e=>g(r=>({...r,location:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\xd6rn: İstanbul Fuar Center, Online (Zoom)"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Etkinlik Detayları"}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Detaylı İ\xe7erik (Markdown destekli) *"}),a.jsx("textarea",{required:!0,rows:15,value:x.content,onChange:e=>g(r=>({...r,content:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Etkinlik detaylarını markdown formatında yazın..."}),a.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Program, konuşmacılar, g\xfcndem gibi detayları markdown formatında ekleyebilirsiniz"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:a.jsx(c.Z,{value:x.image_url,onChange:e=>g(r=>({...r,image_url:e})),label:"Etkinlik G\xf6rseli"})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Kayıt Bilgileri"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kayıt URL'si"}),a.jsx("input",{type:"url",value:x.registration_url,onChange:e=>g(r=>({...r,registration_url:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com/kayit"}),a.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Katılımcıların kayıt olabileceği web sayfası linki"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"featured",checked:x.is_featured,onChange:e=>g(r=>({...r,is_featured:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"featured",className:"ml-2 block text-sm text-gray-900",children:"\xd6ne \xe7ıkarılsın"})]})]})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:a.jsx("button",{type:"submit",disabled:t,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:t?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"G\xfcncelleniyor..."})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(d.Z,{className:"w-5 h-5"}),a.jsx("span",{children:"Etkinliği G\xfcncelle"})]})})})]})]})})]}):a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Etkinlik bilgileri y\xfckleniyor..."})]})})}},5327:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var a=t(2295),s=t(3729),l=t(7602),n=t(1317),i=t(2514);function o({value:e,onChange:r,label:t="Resim",className:o=""}){let[d,c]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),x=(0,s.useRef)(null),g=async e=>{if(!e.type.startsWith("image/")){alert("L\xfctfen sadece resim dosyası se\xe7in.");return}if(e.size>5242880){alert("Dosya boyutu 5MB'dan k\xfc\xe7\xfck olmalıdır.");return}c(!0);try{let t=new FormData;t.append("file",e);let a=await fetch("/api/upload",{method:"POST",body:t,credentials:"include"}),s=await a.json();if(console.log("Upload response:",s),s.success){let e=s.data?.url||s.url;console.log("Setting image URL:",e),r(e)}else alert(s.error||"Resim y\xfcklenirken hata oluştu.")}catch(e){console.error("Upload error:",e),alert("Resim y\xfcklenirken hata oluştu.")}finally{c(!1)}};return(0,a.jsxs)("div",{className:`space-y-4 ${o}`,children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t}),e&&(0,a.jsxs)("div",{className:"relative",children:[a.jsx("img",{src:e,alt:"\xd6nizleme",className:"w-full h-48 object-cover rounded-lg border border-gray-200"}),a.jsx("button",{type:"button",onClick:()=>{r(""),x.current&&(x.current.value="")},className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors",children:a.jsx(l.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{onDrop:e=>{e.preventDefault(),m(!1);let r=Array.from(e.dataTransfer.files);r.length>0&&g(r[0])},onDragOver:e=>{e.preventDefault(),m(!0)},onDragLeave:()=>m(!1),className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${u?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[a.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:e=>{let r=e.target.files;r&&r.length>0&&g(r[0])},className:"hidden"}),d?(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Y\xfckleniyor..."})]}):(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(n.Z,{className:"w-12 h-12 text-gray-400 mx-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("button",{type:"button",onClick:()=>x.current?.click(),className:"inline-flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(i.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Dosya Se\xe7"})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"veya dosyayı s\xfcr\xfckleyip bırakın"})]}),a.jsx("p",{className:"text-xs text-gray-400",children:"PNG, JPG, JPEG, WebP (Max: 5MB)"})]})]}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-gray-50 text-gray-500",children:"veya URL girin"})})]}),a.jsx("input",{type:"text",value:e&&e.startsWith("data:")?"":e||"",onChange:e=>r(e.target.value),placeholder:"https://example.com/image.jpg veya /images/product.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}},8193:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>l,__esModule:()=>s,default:()=>n});let a=(0,t(6843).createProxy)(String.raw`/Users/denizhan/Documents/Windsurf/protekanalitik/src/app/admin/resources/events/[id]/edit/page.tsx`),{__esModule:s,$$typeof:l}=a,n=a.default},3925:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});var a=t(3729);let s=a.forwardRef(function({title:e,titleId:r,...t},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))})},2514:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});var a=t(3729);let s=a.forwardRef(function({title:e,titleId:r,...t},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))})},1179:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});var a=t(3729);let s=a.forwardRef(function({title:e,titleId:r,...t},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},1317:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});var a=t(3729);let s=a.forwardRef(function({title:e,titleId:r,...t},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))})}};var r=require("../../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[1638,312,8588,3227],()=>t(8461));module.exports=a})();