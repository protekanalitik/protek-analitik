(()=>{var e={};e.id=9435,e.ids=[9435],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8173:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>o,routeModule:()=>m,tree:()=>d});var a=r(482),t=r(9108),l=r(2563),i=r.n(l),n=r(8300),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(s,c);let d=["",{children:["admin",{children:["products",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1966)),"/Users/denizhan/Documents/Windsurf/protekanalitik/src/app/admin/products/[id]/edit/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2050)),"/Users/denizhan/Documents/Windsurf/protekanalitik/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1342)),"/Users/denizhan/Documents/Windsurf/protekanalitik/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/denizhan/Documents/Windsurf/protekanalitik/src/app/admin/products/[id]/edit/page.tsx"],u="/admin/products/[id]/edit/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/admin/products/[id]/edit/page",pathname:"/admin/products/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3463:(e,s,r)=>{Promise.resolve().then(r.bind(r,9840))},9840:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>y});var a=r(2295),t=r(3729),l=r(2254),i=r(783),n=r.n(i),c=r(3925),d=r(3759),o=r(7602),u=r(9804),x=r(4481),m=r(6258),g=r(391),p=r(1179),h=r(989),b=r(1421);function y(){let e=(0,l.useRouter)(),s=(0,l.useParams)().id,[r,i]=(0,t.useState)(!0),[y,f]=(0,t.useState)(!1),[j,v]=(0,t.useState)(null),[N,k]=(0,t.useState)({name:"",description:"",overview:"",images:[],category:"",subcategory:"",features:[""],applications:[""],specifications:{},dataSheet:"",price:"",isWarrantied:!1,hasFreeShipping:!1,catalogFiles:[]}),[w,F]=(0,t.useState)(""),[C,S]=(0,t.useState)(""),[P,Z]=(0,t.useState)(""),[_,q]=(0,t.useState)(""),z=async()=>{try{i(!0);let r=await fetch("/api/products"),a=await r.json();if(a.success&&Array.isArray(a.data)){let r=a.data.find(e=>e.id===s);r?(v(r),k({name:r.name,description:r.description,overview:r.overview||"",images:r.images||[r.image],category:r.category,subcategory:r.subcategory,features:r.features.length>0?r.features:[""],applications:r.applications.length>0?r.applications:[""],specifications:r.specifications||{},dataSheet:r.dataSheet||"",price:r.price||"",isWarrantied:r.isWarrantied||!1,hasFreeShipping:r.hasFreeShipping||!1,catalogFiles:r.catalogFiles||[]})):(alert("\xdcr\xfcn bulunamadı!"),e.push("/admin/products"))}else console.error("API hatası:",a),alert("\xdcr\xfcn verisi y\xfcklenirken hata oluştu.")}catch(e){console.error("\xdcr\xfcn y\xfckleme hatası:",e),alert("\xdcr\xfcn y\xfcklenirken hata oluştu.")}finally{i(!1)}};(0,t.useEffect)(()=>{z()},[s]);let D=async r=>{r.preventDefault(),f(!0);try{let r={...N,id:s,image:N.images[0]||"/images/lab-1.jpg",images:N.images.length>0?N.images:void 0,features:N.features.filter(e=>""!==e.trim()),applications:N.applications.filter(e=>""!==e.trim()),specifications:Object.keys(N.specifications).length>0?N.specifications:void 0,catalogFiles:N.catalogFiles&&N.catalogFiles.length>0?N.catalogFiles:void 0},a=await fetch(`/api/products/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),t=await a.json();t.success?(alert("\xdcr\xfcn başarıyla g\xfcncellendi!"),e.push("/admin/products")):alert(`Hata: ${t.error}`)}catch(e){console.error("\xdcr\xfcn g\xfcncelleme hatası:",e),alert("Hata: \xdcr\xfcn g\xfcncellenirken bir sorun oluştu.")}finally{f(!1)}},A=e=>{k(s=>({...s,features:s.features.filter((s,r)=>r!==e)}))},W=(e,s)=>{k(r=>({...r,features:r.features.map((r,a)=>a===e?s:r)}))},K=e=>{k(s=>({...s,applications:s.applications.filter((s,r)=>r!==e)}))},U=(e,s)=>{k(r=>({...r,applications:r.applications.map((r,a)=>a===e?s:r)}))},E=e=>{k(s=>{let r={...s.specifications};return delete r[e],{...s,specifications:r}})},G=e=>{k(s=>({...s,catalogFiles:(s.catalogFiles||[]).filter((s,r)=>r!==e)}))};return r?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"\xdcr\xfcn bilgileri API'den y\xfckleniyor..."}),(0,a.jsxs)("p",{className:"text-sm text-gray-400 mt-2",children:["Product ID: ",s]})]})}):j?(0,a.jsxs)("div",{className:"space-y-6 max-w-7xl mx-auto",children:[a.jsx("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(n(),{href:"/admin/products",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(c.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"\xdcr\xfcn D\xfczenle"}),(0,a.jsxs)("p",{className:"text-gray-600",children:[j.name," - ID: ",j.id]})]})]})}),(0,a.jsxs)("form",{onSubmit:D,className:"space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Temel Bilgiler"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\xdcr\xfcn Adı *"}),a.jsx("input",{type:"text",required:!0,value:N.name,onChange:e=>k(s=>({...s,name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\xdcr\xfcn adını girin"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"A\xe7ıklama *"}),a.jsx("textarea",{required:!0,rows:4,value:N.description,onChange:e=>k(s=>({...s,description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\xdcr\xfcn a\xe7ıklamasını girin"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Genel Bakış"}),a.jsx("textarea",{rows:6,value:N.overview,onChange:e=>k(s=>({...s,overview:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\xdcr\xfcn hakkında detaylı genel bakış metnini girin..."}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:'Bu metin \xfcr\xfcn detay sayfasındaki "Genel Bakış" sekmesinde g\xf6r\xfcnt\xfclenecektir.'})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori *"}),(0,a.jsxs)("select",{required:!0,value:N.category,onChange:e=>k(s=>({...s,category:e.target.value,subcategory:""})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Kategori se\xe7in"}),h.ZH.map(e=>a.jsx("option",{value:e.name,children:e.name},e.key))]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alt Kategori *"}),(0,a.jsxs)("select",{required:!0,value:N.subcategory,onChange:e=>k(s=>({...s,subcategory:e.target.value})),disabled:!N.category,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100",children:[a.jsx("option",{value:"",children:"Alt kategori se\xe7in"}),(()=>{if(!N.category)return[];let e=h.ZH.find(e=>e.name===N.category);return e?.subcategories||[]})().map(e=>a.jsx("option",{value:e.name,children:e.name},e.key))]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2"}),"Teknik \xd6zellikler"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:w,onChange:e=>F(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\xd6zellik adı"}),a.jsx("input",{type:"text",value:C,onChange:e=>S(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Değer"}),a.jsx("button",{type:"button",onClick:()=>{w.trim()&&C.trim()&&(k(e=>({...e,specifications:{...e.specifications,[w]:C}})),F(""),S(""))},className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:a.jsx(d.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[Object.entries(N.specifications).map(([e,s])=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("span",{className:"font-medium text-gray-800",children:[e,":"]}),a.jsx("span",{className:"text-gray-600 ml-1",children:s})]}),a.jsx("button",{type:"button",onClick:()=>E(e),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Sil",children:a.jsx(o.Z,{className:"w-4 h-4"})})]},e)),0===Object.keys(N.specifications).length&&a.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"Hen\xfcz teknik \xf6zellik eklenmemiş"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"\xd6zellikler"}),(0,a.jsxs)("button",{type:"button",onClick:()=>{k(e=>({...e,features:[...e.features,""]}))},className:"inline-flex items-center space-x-1 text-blue-600 hover:text-blue-700",children:[a.jsx(d.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Ekle"})]})]}),a.jsx("div",{className:"space-y-3",children:N.features.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"text",value:e,onChange:e=>W(s,e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\xd6zellik girin"}),N.features.length>1&&a.jsx("button",{type:"button",onClick:()=>A(s),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:a.jsx(o.Z,{className:"w-4 h-4"})})]},s))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Uygulama Alanları"}),(0,a.jsxs)("button",{type:"button",onClick:()=>{k(e=>({...e,applications:[...e.applications,""]}))},className:"inline-flex items-center space-x-1 text-blue-600 hover:text-blue-700",children:[a.jsx(d.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Ekle"})]})]}),a.jsx("div",{className:"space-y-3",children:N.applications.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"text",value:e,onChange:e=>U(s,e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Uygulama alanı girin"}),N.applications.length>1&&a.jsx("button",{type:"button",onClick:()=>K(s),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:a.jsx(o.Z,{className:"w-4 h-4"})})]},s))})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:a.jsx(b.Z,{images:N.images,onChange:e=>k(s=>({...s,images:e})),label:"\xdcr\xfcn G\xf6rselleri",maxImages:8})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(u.Z,{className:"w-5 h-5 mr-2 text-green-600"}),"\xdcr\xfcn Avantajları"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",id:"isWarrantied",checked:N.isWarrantied,onChange:e=>k(s=>({...s,isWarrantied:e.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsxs)("label",{htmlFor:"isWarrantied",className:"flex items-center text-sm font-medium text-gray-700 cursor-pointer",children:[a.jsx(u.Z,{className:"w-4 h-4 mr-1 text-green-600"}),"Garantili \xdcr\xfcn"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",id:"hasFreeShipping",checked:N.hasFreeShipping,onChange:e=>k(s=>({...s,hasFreeShipping:e.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsxs)("label",{htmlFor:"hasFreeShipping",className:"flex items-center text-sm font-medium text-gray-700 cursor-pointer",children:[a.jsx(x.Z,{className:"w-4 h-4 mr-1 text-blue-600"}),"\xdccretsiz Kargo"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(m.Z,{className:"w-5 h-5 mr-2 text-purple-600"}),"\xdcr\xfcnle İlgili Kataloglar"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[a.jsx("input",{type:"text",value:_,onChange:e=>q(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Katalog adı (\xf6rn: \xdcr\xfcn Broş\xfcr\xfc)"}),a.jsx("input",{type:"url",value:P,onChange:e=>Z(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Katalog URL'si (PDF linki)"}),(0,a.jsxs)("button",{type:"button",onClick:()=>{if(P.trim()&&_.trim()){let e=`${_}|${P}`;k(s=>({...s,catalogFiles:[...s.catalogFiles||[],e]})),Z(""),q("")}},className:"px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center justify-center",children:[a.jsx(d.Z,{className:"w-4 h-4 mr-1"}),"Katalog Ekle"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(N.catalogFiles||[]).map((e,s)=>{let[r,t]=e.split("|");return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(g.Z,{className:"w-4 h-4 text-purple-600"}),(0,a.jsxs)("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium text-gray-800",children:r}),a.jsx("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:t})]})]}),a.jsx("button",{type:"button",onClick:()=>G(s),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Sil",children:a.jsx(o.Z,{className:"w-4 h-4"})})]},s)}),(!N.catalogFiles||0===N.catalogFiles.length)&&a.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"Hen\xfcz katalog eklenmemiş"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ek Bilgiler"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fiyat"}),a.jsx("input",{type:"text",value:N.price,onChange:e=>k(s=>({...s,price:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\xd6rn: Teklif alınız"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Veri Sayfası URL"}),a.jsx("input",{type:"url",value:N.dataSheet,onChange:e=>k(s=>({...s,dataSheet:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"PDF veya d\xf6k\xfcman linki"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200 bg-white rounded-lg p-6",children:[a.jsx(n(),{href:"/admin/products",className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"}),a.jsx("button",{type:"submit",disabled:y,className:"inline-flex items-center space-x-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-green-400 transition-colors",children:y?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Kaydediliyor..."})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(p.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Değişiklikleri Kaydet"})]})})]})]})]}):a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-600 text-6xl mb-4",children:"⚠️"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"\xdcr\xfcn Bulunamadı"}),(0,a.jsxs)("p",{className:"text-gray-600 mb-4",children:["ID: ",s]}),a.jsx(n(),{href:"/admin/products",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"\xdcr\xfcn Listesine D\xf6n"})]})})}},1966:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>l,__esModule:()=>t,default:()=>i});let a=(0,r(6843).createProxy)(String.raw`/Users/denizhan/Documents/Windsurf/protekanalitik/src/app/admin/products/[id]/edit/page.tsx`),{__esModule:t,$$typeof:l}=a,i=a.default}};var s=require("../../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[1638,312,8588,3227,989,7460],()=>r(8173));module.exports=a})();