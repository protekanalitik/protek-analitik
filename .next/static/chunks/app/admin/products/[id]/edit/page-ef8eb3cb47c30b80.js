(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9435],{3988:function(e,s,a){Promise.resolve().then(a.bind(a,5541))},5541:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return f}});var r=a(7437),l=a(2265),t=a(4033),i=a(1396),n=a.n(i),c=a(3753),d=a(5255),o=a(6689),u=a(2938),x=a(8265),m=a(4571),g=a(1550),p=a(9186),h=a(2958),b=a(8364);function f(){let e=(0,t.useRouter)(),s=(0,t.useParams)().id,[a,i]=(0,l.useState)(!0),[f,y]=(0,l.useState)(!1),[j,N]=(0,l.useState)(null),[v,k]=(0,l.useState)({name:"",description:"",overview:"",images:[],category:"",subcategory:"",features:[""],applications:[""],specifications:{},dataSheet:"",price:"",isWarrantied:!1,hasFreeShipping:!1,catalogFiles:[]}),[w,F]=(0,l.useState)(""),[C,S]=(0,l.useState)(""),[Z,z]=(0,l.useState)(""),[A,D]=(0,l.useState)(""),K=async()=>{try{i(!0);let a=await fetch("/api/products"),r=await a.json();if(r.success&&Array.isArray(r.data)){let a=r.data.find(e=>e.id===s);a?(N(a),k({name:a.name,description:a.description,overview:a.overview||"",images:a.images||[a.image],category:a.category,subcategory:a.subcategory,features:a.features.length>0?a.features:[""],applications:a.applications.length>0?a.applications:[""],specifications:a.specifications||{},dataSheet:a.dataSheet||"",price:a.price||"",isWarrantied:a.isWarrantied||!1,hasFreeShipping:a.hasFreeShipping||!1,catalogFiles:a.catalogFiles||[]})):(alert("\xdcr\xfcn bulunamadı!"),e.push("/admin/products"))}else console.error("API hatası:",r),alert("\xdcr\xfcn verisi y\xfcklenirken hata oluştu.")}catch(e){console.error("\xdcr\xfcn y\xfckleme hatası:",e),alert("\xdcr\xfcn y\xfcklenirken hata oluştu.")}finally{i(!1)}};(0,l.useEffect)(()=>{K()},[s]);let E=async a=>{a.preventDefault(),y(!0);try{let a={...v,id:s,image:v.images[0]||"/images/lab-1.jpg",images:v.images.length>0?v.images:void 0,features:v.features.filter(e=>""!==e.trim()),applications:v.applications.filter(e=>""!==e.trim()),specifications:Object.keys(v.specifications).length>0?v.specifications:void 0,catalogFiles:v.catalogFiles&&v.catalogFiles.length>0?v.catalogFiles:void 0},r=await fetch("/api/products/".concat(s),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),l=await r.json();l.success?(alert("\xdcr\xfcn başarıyla g\xfcncellendi!"),e.push("/admin/products")):alert("Hata: ".concat(l.error))}catch(e){console.error("\xdcr\xfcn g\xfcncelleme hatası:",e),alert("Hata: \xdcr\xfcn g\xfcncellenirken bir sorun oluştu.")}finally{y(!1)}},P=e=>{k(s=>({...s,features:s.features.filter((s,a)=>a!==e)}))},B=(e,s)=>{k(a=>({...a,features:a.features.map((a,r)=>r===e?s:a)}))},W=e=>{k(s=>({...s,applications:s.applications.filter((s,a)=>a!==e)}))},H=(e,s)=>{k(a=>({...a,applications:a.applications.map((a,r)=>r===e?s:a)}))},I=e=>{k(s=>{let a={...s.specifications};return delete a[e],{...s,specifications:a}})},O=e=>{k(s=>({...s,catalogFiles:(s.catalogFiles||[]).filter((s,a)=>a!==e)}))};return a?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"\xdcr\xfcn bilgileri API'den y\xfckleniyor..."}),(0,r.jsxs)("p",{className:"text-sm text-gray-400 mt-2",children:["Product ID: ",s]})]})}):j?(0,r.jsxs)("div",{className:"space-y-6 max-w-7xl mx-auto",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(n(),{href:"/admin/products",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(c.Z,{className:"w-5 h-5"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"\xdcr\xfcn D\xfczenle"}),(0,r.jsxs)("p",{className:"text-gray-600",children:[j.name," - ID: ",j.id]})]})]})}),(0,r.jsxs)("form",{onSubmit:E,className:"space-y-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Temel Bilgiler"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\xdcr\xfcn Adı *"}),(0,r.jsx)("input",{type:"text",required:!0,value:v.name,onChange:e=>k(s=>({...s,name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\xdcr\xfcn adını girin"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"A\xe7ıklama *"}),(0,r.jsx)("textarea",{required:!0,rows:4,value:v.description,onChange:e=>k(s=>({...s,description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\xdcr\xfcn a\xe7ıklamasını girin"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Genel Bakış"}),(0,r.jsx)("textarea",{rows:6,value:v.overview,onChange:e=>k(s=>({...s,overview:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\xdcr\xfcn hakkında detaylı genel bakış metnini girin..."}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:'Bu metin \xfcr\xfcn detay sayfasındaki "Genel Bakış" sekmesinde g\xf6r\xfcnt\xfclenecektir.'})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori *"}),(0,r.jsxs)("select",{required:!0,value:v.category,onChange:e=>k(s=>({...s,category:e.target.value,subcategory:""})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Kategori se\xe7in"}),h.ZH.map(e=>(0,r.jsx)("option",{value:e.name,children:e.name},e.key))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alt Kategori *"}),(0,r.jsxs)("select",{required:!0,value:v.subcategory,onChange:e=>k(s=>({...s,subcategory:e.target.value})),disabled:!v.category,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100",children:[(0,r.jsx)("option",{value:"",children:"Alt kategori se\xe7in"}),(()=>{if(!v.category)return[];let e=h.ZH.find(e=>e.name===v.category);return(null==e?void 0:e.subcategories)||[]})().map(e=>(0,r.jsx)("option",{value:e.name,children:e.name},e.key))]})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2"}),"Teknik \xd6zellikler"]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("input",{type:"text",value:w,onChange:e=>F(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\xd6zellik adı"}),(0,r.jsx)("input",{type:"text",value:C,onChange:e=>S(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Değer"}),(0,r.jsx)("button",{type:"button",onClick:()=>{w.trim()&&C.trim()&&(k(e=>({...e,specifications:{...e.specifications,[w]:C}})),F(""),S(""))},className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:(0,r.jsx)(d.Z,{className:"w-4 h-4"})})]}),(0,r.jsxs)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[Object.entries(v.specifications).map(e=>{let[s,a]=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("span",{className:"font-medium text-gray-800",children:[s,":"]}),(0,r.jsx)("span",{className:"text-gray-600 ml-1",children:a})]}),(0,r.jsx)("button",{type:"button",onClick:()=>I(s),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Sil",children:(0,r.jsx)(o.Z,{className:"w-4 h-4"})})]},s)}),0===Object.keys(v.specifications).length&&(0,r.jsx)("div",{className:"text-center py-4 text-gray-500 text-sm",children:"Hen\xfcz teknik \xf6zellik eklenmemiş"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"\xd6zellikler"}),(0,r.jsxs)("button",{type:"button",onClick:()=>{k(e=>({...e,features:[...e.features,""]}))},className:"inline-flex items-center space-x-1 text-blue-600 hover:text-blue-700",children:[(0,r.jsx)(d.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Ekle"})]})]}),(0,r.jsx)("div",{className:"space-y-3",children:v.features.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>B(s,e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\xd6zellik girin"}),v.features.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>P(s),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:(0,r.jsx)(o.Z,{className:"w-4 h-4"})})]},s))})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Uygulama Alanları"}),(0,r.jsxs)("button",{type:"button",onClick:()=>{k(e=>({...e,applications:[...e.applications,""]}))},className:"inline-flex items-center space-x-1 text-blue-600 hover:text-blue-700",children:[(0,r.jsx)(d.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Ekle"})]})]}),(0,r.jsx)("div",{className:"space-y-3",children:v.applications.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>H(s,e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Uygulama alanı girin"}),v.applications.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>W(s),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:(0,r.jsx)(o.Z,{className:"w-4 h-4"})})]},s))})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,r.jsx)(b.Z,{images:v.images,onChange:e=>k(s=>({...s,images:e})),label:"\xdcr\xfcn G\xf6rselleri",maxImages:8})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,r.jsx)(u.Z,{className:"w-5 h-5 mr-2 text-green-600"}),"\xdcr\xfcn Avantajları"]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"isWarrantied",checked:v.isWarrantied,onChange:e=>k(s=>({...s,isWarrantied:e.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsxs)("label",{htmlFor:"isWarrantied",className:"flex items-center text-sm font-medium text-gray-700 cursor-pointer",children:[(0,r.jsx)(u.Z,{className:"w-4 h-4 mr-1 text-green-600"}),"Garantili \xdcr\xfcn"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"hasFreeShipping",checked:v.hasFreeShipping,onChange:e=>k(s=>({...s,hasFreeShipping:e.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsxs)("label",{htmlFor:"hasFreeShipping",className:"flex items-center text-sm font-medium text-gray-700 cursor-pointer",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4 mr-1 text-blue-600"}),"\xdccretsiz Kargo"]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,r.jsx)(m.Z,{className:"w-5 h-5 mr-2 text-purple-600"}),"\xdcr\xfcnle İlgili Kataloglar"]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,r.jsx)("input",{type:"text",value:A,onChange:e=>D(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Katalog adı (\xf6rn: \xdcr\xfcn Broş\xfcr\xfc)"}),(0,r.jsx)("input",{type:"url",value:Z,onChange:e=>z(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Katalog URL'si (PDF linki)"}),(0,r.jsxs)("button",{type:"button",onClick:()=>{if(Z.trim()&&A.trim()){let e="".concat(A,"|").concat(Z);k(s=>({...s,catalogFiles:[...s.catalogFiles||[],e]})),z(""),D("")}},className:"px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center justify-center",children:[(0,r.jsx)(d.Z,{className:"w-4 h-4 mr-1"}),"Katalog Ekle"]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(v.catalogFiles||[]).map((e,s)=>{let[a,l]=e.split("|");return(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg border",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(g.Z,{className:"w-4 h-4 text-purple-600"}),(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)("div",{className:"font-medium text-gray-800",children:a}),(0,r.jsx)("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:l})]})]}),(0,r.jsx)("button",{type:"button",onClick:()=>O(s),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Sil",children:(0,r.jsx)(o.Z,{className:"w-4 h-4"})})]},s)}),(!v.catalogFiles||0===v.catalogFiles.length)&&(0,r.jsx)("div",{className:"text-center py-4 text-gray-500 text-sm",children:"Hen\xfcz katalog eklenmemiş"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ek Bilgiler"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fiyat"}),(0,r.jsx)("input",{type:"text",value:v.price,onChange:e=>k(s=>({...s,price:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\xd6rn: Teklif alınız"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Veri Sayfası URL"}),(0,r.jsx)("input",{type:"url",value:v.dataSheet,onChange:e=>k(s=>({...s,dataSheet:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"PDF veya d\xf6k\xfcman linki"})]})]})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200 bg-white rounded-lg p-6",children:[(0,r.jsx)(n(),{href:"/admin/products",className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"}),(0,r.jsx)("button",{type:"submit",disabled:f,className:"inline-flex items-center space-x-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-green-400 transition-colors",children:f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{children:"Kaydediliyor..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Değişiklikleri Kaydet"})]})})]})]})]}):(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-red-600 text-6xl mb-4",children:"⚠️"}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"\xdcr\xfcn Bulunamadı"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-4",children:["ID: ",s]}),(0,r.jsx)(n(),{href:"/admin/products",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"\xdcr\xfcn Listesine D\xf6n"})]})})}}},function(e){e.O(0,[1176,2958,1832,2971,4938,1744],function(){return e(e.s=3988)}),_N_E=e.O()}]);