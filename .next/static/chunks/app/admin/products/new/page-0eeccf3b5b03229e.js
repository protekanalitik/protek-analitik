(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8573],{713:function(e,a,s){Promise.resolve().then(s.bind(s,6454))},6454:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return h}});var r=s(7437),l=s(2265),i=s(4033),t=s(1396),n=s.n(t),c=s(3753),d=s(5255),o=s(6689),u=s(2938),m=s(8265),g=s(4571),x=s(1550),p=s(9186),b=s(8364);function h(){let e=(0,i.useRouter)(),[a,s]=(0,l.useState)(!1),[t,h]=(0,l.useState)([{id:"lab-equipment",name:"Laboratuvar Ekipmanları"}]),[y,f]=(0,l.useState)([{id:"genel-lab",category_id:"lab-equipment",name:"Genel Laboratuvar Ekipmanları"},{id:"fiziksel-analiz",category_id:"lab-equipment",name:"Fiziksel Analiz Ekipmanları"},{id:"kimyasal-analiz",category_id:"lab-equipment",name:"Kimyasal Analiz Ekipmanları"}]),[j,v]=(0,l.useState)({name:"",description:"",overview:"",images:[],category:"",subcategory:"",features:[""],applications:[""],specifications:{},dataSheet:"",price:"",isWarrantied:!1,hasFreeShipping:!1,catalogFiles:[]}),[N,k]=(0,l.useState)(""),[w,C]=(0,l.useState)(""),[F,z]=(0,l.useState)(""),[S,_]=(0,l.useState)("");(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/categories",{credentials:"include"}),a=await e.json();if(a.success){let e=a.data||{};h(Array.isArray(e.categories)?e.categories:[]),f(Array.isArray(e.subcategories)?e.subcategories:[])}else h([{id:"lab-equipment",name:"Laboratuvar Ekipmanları"}]),f([{id:"genel-lab",category_id:"lab-equipment",name:"Genel Laboratuvar Ekipmanları"},{id:"fiziksel-analiz",category_id:"lab-equipment",name:"Fiziksel Analiz Ekipmanları"},{id:"kimyasal-analiz",category_id:"lab-equipment",name:"Kimyasal Analiz Ekipmanları"}])}catch(e){console.error("Failed to fetch categories:",e),h([{id:"lab-equipment",name:"Laboratuvar Ekipmanları"}]),f([{id:"genel-lab",category_id:"lab-equipment",name:"Genel Laboratuvar Ekipmanları"},{id:"fiziksel-analiz",category_id:"lab-equipment",name:"Fiziksel Analiz Ekipmanları"},{id:"kimyasal-analiz",category_id:"lab-equipment",name:"Kimyasal Analiz Ekipmanları"}])}})()},[]);let E=async a=>{a.preventDefault(),s(!0);try{j.name.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""),Date.now().toString().slice(-3);let a={name:j.name,description:j.description,overview:j.overview,category_id:j.category||"lab-equipment",subcategory_id:j.subcategory||"genel-lab",image:j.images[0]||"/images/lab-1.jpg",images:j.images.length>0?j.images:[],features:j.features.filter(e=>""!==e.trim()),applications:j.applications.filter(e=>""!==e.trim()),specifications:Object.keys(j.specifications).length>0?j.specifications:{},data_sheet:j.dataSheet||void 0,catalog_files:j.catalogFiles&&j.catalogFiles.length>0?j.catalogFiles:[],price:j.price||void 0,is_warrantied:!!j.isWarrantied,has_free_shipping:!!j.hasFreeShipping,is_featured:!1,is_active:!0},s=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)}),r=await s.json();r.success?(alert("\xdcr\xfcn başarıyla eklendi!"),e.push("/admin/products")):alert("Hata: ".concat(r.error))}catch(e){console.error("\xdcr\xfcn ekleme hatası:",e),alert("Hata: \xdcr\xfcn eklenirken bir sorun oluştu.")}finally{s(!1)}},A=e=>{v(a=>({...a,features:a.features.filter((a,s)=>s!==e)}))},q=(e,a)=>{v(s=>({...s,features:s.features.map((s,r)=>r===e?a:s)}))},Z=e=>{v(a=>({...a,applications:a.applications.filter((a,s)=>s!==e)}))},K=(e,a)=>{v(s=>({...s,applications:s.applications.map((s,r)=>r===e?a:s)}))},L=e=>{v(a=>{let s={...a.specifications};return delete s[e],{...a,specifications:s}})},B=e=>{v(a=>({...a,catalogFiles:(a.catalogFiles||[]).filter((a,s)=>s!==e)}))};return(0,r.jsxs)("div",{className:"space-y-6 max-w-7xl mx-auto",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(n(),{href:"/admin/products",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(c.Z,{className:"w-5 h-5"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Yeni \xdcr\xfcn Ekle"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Sisteme yeni \xfcr\xfcn bilgilerini girin"})]})]})}),(0,r.jsxs)("form",{onSubmit:E,className:"space-y-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Temel Bilgiler"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\xdcr\xfcn Adı *"}),(0,r.jsx)("input",{type:"text",required:!0,value:j.name,onChange:e=>v(a=>({...a,name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\xdcr\xfcn adını girin"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"A\xe7ıklama *"}),(0,r.jsx)("textarea",{required:!0,rows:4,value:j.description,onChange:e=>v(a=>({...a,description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\xdcr\xfcn a\xe7ıklamasını girin"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Genel Bakış"}),(0,r.jsx)("textarea",{rows:6,value:j.overview,onChange:e=>v(a=>({...a,overview:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\xdcr\xfcn hakkında detaylı genel bakış metnini girin..."}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:'Bu metin \xfcr\xfcn detay sayfasındaki "Genel Bakış" sekmesinde g\xf6r\xfcnt\xfclenecektir.'})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori *"}),(0,r.jsxs)("select",{required:!0,value:j.category,onChange:e=>v(a=>({...a,category:e.target.value,subcategory:""})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Kategori se\xe7in"}),Array.isArray(t)&&t.map(e=>(0,r.jsx)("option",{value:(null==e?void 0:e.id)||"",children:(null==e?void 0:e.name)||"Bilinmeyen Kategori"},(null==e?void 0:e.id)||Math.random()))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alt Kategori *"}),(0,r.jsxs)("select",{required:!0,value:j.subcategory,onChange:e=>v(a=>({...a,subcategory:e.target.value})),disabled:!j.category,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100",children:[(0,r.jsx)("option",{value:"",children:"Alt kategori se\xe7in"}),(j.category&&Array.isArray(y)?y.filter(e=>(null==e?void 0:e.category_id)===j.category):[]).map(e=>(0,r.jsx)("option",{value:(null==e?void 0:e.id)||"",children:(null==e?void 0:e.name)||"Bilinmeyen Alt Kategori"},(null==e?void 0:e.id)||Math.random()))]})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2"}),"Teknik \xd6zellikler"]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("input",{type:"text",value:N,onChange:e=>k(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\xd6zellik adı"}),(0,r.jsx)("input",{type:"text",value:w,onChange:e=>C(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Değer"}),(0,r.jsx)("button",{type:"button",onClick:()=>{N.trim()&&w.trim()&&(v(e=>({...e,specifications:{...e.specifications,[N]:w}})),k(""),C(""))},className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:(0,r.jsx)(d.Z,{className:"w-4 h-4"})})]}),(0,r.jsxs)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[Object.entries(j.specifications).map(e=>{let[a,s]=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("span",{className:"font-medium text-gray-800",children:[a,":"]}),(0,r.jsx)("span",{className:"text-gray-600 ml-1",children:s})]}),(0,r.jsx)("button",{type:"button",onClick:()=>L(a),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Sil",children:(0,r.jsx)(o.Z,{className:"w-3 h-3"})})]},a)}),0===Object.keys(j.specifications).length&&(0,r.jsx)("div",{className:"text-center py-4 text-gray-500 text-sm",children:"Hen\xfcz teknik \xf6zellik eklenmemiş"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"\xd6zellikler"}),(0,r.jsxs)("button",{type:"button",onClick:()=>{v(e=>({...e,features:[...e.features,""]}))},className:"inline-flex items-center space-x-1 text-blue-600 hover:text-blue-700",children:[(0,r.jsx)(d.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Ekle"})]})]}),(0,r.jsx)("div",{className:"space-y-3",children:j.features.map((e,a)=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>q(a,e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\xd6zellik girin"}),j.features.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>A(a),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:(0,r.jsx)(o.Z,{className:"w-4 h-4"})})]},a))})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Uygulama Alanları"}),(0,r.jsxs)("button",{type:"button",onClick:()=>{v(e=>({...e,applications:[...e.applications,""]}))},className:"inline-flex items-center space-x-1 text-blue-600 hover:text-blue-700",children:[(0,r.jsx)(d.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Ekle"})]})]}),(0,r.jsx)("div",{className:"space-y-3",children:j.applications.map((e,a)=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>K(a,e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Uygulama alanı girin"}),j.applications.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>Z(a),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:(0,r.jsx)(o.Z,{className:"w-4 h-4"})})]},a))})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,r.jsx)(b.Z,{images:j.images,onChange:e=>v(a=>({...a,images:e})),label:"\xdcr\xfcn G\xf6rselleri",maxImages:8})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,r.jsx)(u.Z,{className:"w-5 h-5 mr-2 text-green-600"}),"\xdcr\xfcn Avantajları"]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"isWarrantied",checked:j.isWarrantied,onChange:e=>v(a=>({...a,isWarrantied:e.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsxs)("label",{htmlFor:"isWarrantied",className:"flex items-center text-sm font-medium text-gray-700 cursor-pointer",children:[(0,r.jsx)(u.Z,{className:"w-4 h-4 mr-1 text-green-600"}),"Garantili \xdcr\xfcn"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"hasFreeShipping",checked:j.hasFreeShipping,onChange:e=>v(a=>({...a,hasFreeShipping:e.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsxs)("label",{htmlFor:"hasFreeShipping",className:"flex items-center text-sm font-medium text-gray-700 cursor-pointer",children:[(0,r.jsx)(m.Z,{className:"w-4 h-4 mr-1 text-blue-600"}),"\xdccretsiz Kargo"]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,r.jsx)(g.Z,{className:"w-5 h-5 mr-2 text-purple-600"}),"\xdcr\xfcnle İlgili Kataloglar"]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,r.jsx)("input",{type:"text",value:S,onChange:e=>_(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Katalog adı (\xf6rn: \xdcr\xfcn Broş\xfcr\xfc)"}),(0,r.jsx)("input",{type:"url",value:F,onChange:e=>z(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Katalog URL'si (PDF linki)"}),(0,r.jsxs)("button",{type:"button",onClick:()=>{if(F.trim()&&S.trim()){let e="".concat(S,"|").concat(F);v(a=>({...a,catalogFiles:[...a.catalogFiles||[],e]})),z(""),_("")}},className:"px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center justify-center",children:[(0,r.jsx)(d.Z,{className:"w-4 h-4 mr-1"}),"Katalog Ekle"]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(j.catalogFiles||[]).map((e,a)=>{let[s,l]=e.split("|");return(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg border",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4 text-purple-600"}),(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)("div",{className:"font-medium text-gray-800",children:s}),(0,r.jsx)("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:l})]})]}),(0,r.jsx)("button",{type:"button",onClick:()=>B(a),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Sil",children:(0,r.jsx)(o.Z,{className:"w-4 h-4"})})]},a)}),(!j.catalogFiles||0===j.catalogFiles.length)&&(0,r.jsx)("div",{className:"text-center py-4 text-gray-500 text-sm",children:"Hen\xfcz katalog eklenmemiş"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ek Bilgiler"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fiyat"}),(0,r.jsx)("input",{type:"text",value:j.price,onChange:e=>v(a=>({...a,price:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"\xd6rn: Teklif alınız"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Veri Sayfası URL"}),(0,r.jsx)("input",{type:"url",value:j.dataSheet,onChange:e=>v(a=>({...a,dataSheet:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"PDF veya d\xf6k\xfcman linki"})]})]})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200 bg-white rounded-lg p-6",children:[(0,r.jsx)(n(),{href:"/admin/products",className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"}),(0,r.jsx)("button",{type:"submit",disabled:a,className:"inline-flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 transition-colors",children:a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{children:"Kaydediliyor..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"\xdcr\xfcn Ekle"})]})})]})]})]})}}},function(e){e.O(0,[1176,1832,2971,4938,1744],function(){return e(e.s=713)}),_N_E=e.O()}]);