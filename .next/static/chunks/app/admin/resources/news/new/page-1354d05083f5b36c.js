(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[540],{8253:function(e,r,t){Promise.resolve().then(t.bind(t,1214))},1214:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return d}});var a=t(7437),s=t(2265),l=t(4033),i=t(3753),n=t(3949),o=t(8676);function d(){let e=(0,l.useRouter)(),[r,t]=(0,s.useState)(!1),[d,c]=(0,s.useState)(null),[u,m]=(0,s.useState)({title:"",slug:"",summary:"",content:"",category:"sirket-haberleri",author:"",publish_date:"",image_url:"",tags:"",is_featured:!1,is_published:!1,meta_title:"",meta_description:"",meta_keywords:""}),g=e=>e.toLowerCase().replace(/ğ/g,"g").replace(/ü/g,"u").replace(/ş/g,"s").replace(/ı/g,"i").replace(/ö/g,"o").replace(/ç/g,"c").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),h=e=>{m(r=>({...r,title:e,slug:g(e)}))},x=async r=>{r.preventDefault(),t(!0),c(null);try{let r=await fetch("/api/news",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(u)}),t=await r.json();if(r.ok)e.push("/admin/resources");else throw Error(t.error||"Failed to create news article")}catch(e){c(e instanceof Error?e.message:"Failed to create news article")}finally{t(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("button",{onClick:()=>e.push("/admin/resources"),className:"p-2 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(i.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(n.Z,{className:"w-8 h-8 text-indigo-600"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Yeni Haber"})]})]}),(0,a.jsxs)("form",{onSubmit:x,className:"space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Haber Bilgileri"})}),(0,a.jsxs)("div",{className:"px-6 py-4 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Başlık *"}),(0,a.jsx)("input",{type:"text",id:"title",required:!0,value:u.title,onChange:e=>h(e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Haber başlığını girin"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700 mb-2",children:"URL Slug *"}),(0,a.jsx)("input",{type:"text",id:"slug",required:!0,value:u.slug,onChange:e=>m(r=>({...r,slug:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"url-slug"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["URL: /haberler/",u.slug]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"summary",className:"block text-sm font-medium text-gray-700 mb-2",children:"\xd6zet"}),(0,a.jsx)("textarea",{id:"summary",rows:3,value:u.summary,onChange:e=>m(r=>({...r,summary:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Haber \xf6zetini girin"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-2",children:"İ\xe7erik *"}),(0,a.jsx)("textarea",{id:"content",rows:10,required:!0,value:u.content,onChange:e=>m(r=>({...r,content:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Haber i\xe7eriğini girin"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategori *"}),(0,a.jsx)("select",{id:"category",required:!0,value:u.category,onChange:e=>m(r=>({...r,category:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[{value:"sirket-haberleri",label:"Şirket Haberleri"},{value:"sektor-guncel",label:"Sekt\xf6r G\xfcncel"},{value:"basari-hikayeleri",label:"Başarı Hikayeleri"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"author",className:"block text-sm font-medium text-gray-700 mb-2",children:"Yazar *"}),(0,a.jsx)("input",{type:"text",id:"author",required:!0,value:u.author,onChange:e=>m(r=>({...r,author:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Yazar adı"})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"publish_date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Yayın Tarihi"}),(0,a.jsx)("input",{type:"date",id:"publish_date",value:u.publish_date,onChange:e=>m(r=>({...r,publish_date:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})}),(0,a.jsx)("div",{children:(0,a.jsx)(o.Z,{value:u.image_url,onChange:e=>m(r=>({...r,image_url:e})),label:"Haber G\xf6rseli"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-2",children:"Etiketler"}),(0,a.jsx)("input",{type:"text",id:"tags",value:u.tags,onChange:e=>m(r=>({...r,tags:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"etiket1, etiket2, etiket3"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Etiketleri virg\xfclle ayırın"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"is_featured",type:"checkbox",checked:u.is_featured,onChange:e=>m(r=>({...r,is_featured:e.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,a.jsx)("label",{htmlFor:"is_featured",className:"ml-2 block text-sm text-gray-900",children:"\xd6ne \xe7ıkan haber olarak işaretle"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"is_published",type:"checkbox",checked:u.is_published,onChange:e=>m(r=>({...r,is_published:e.target.checked})),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,a.jsx)("label",{htmlFor:"is_published",className:"ml-2 block text-sm text-gray-900",children:"Haberi yayına al"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"SEO Ayarları"})}),(0,a.jsxs)("div",{className:"px-6 py-4 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"meta_title",className:"block text-sm font-medium text-gray-700 mb-2",children:"SEO Başlığı"}),(0,a.jsx)("input",{type:"text",id:"meta_title",value:u.meta_title,onChange:e=>m(r=>({...r,meta_title:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"SEO i\xe7in \xf6zel başlık (boş bırakılırsa normal başlık kullanılır)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"meta_description",className:"block text-sm font-medium text-gray-700 mb-2",children:"SEO A\xe7ıklaması"}),(0,a.jsx)("textarea",{id:"meta_description",rows:3,value:u.meta_description,onChange:e=>m(r=>({...r,meta_description:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Arama motorları i\xe7in a\xe7ıklama"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"meta_keywords",className:"block text-sm font-medium text-gray-700 mb-2",children:"SEO Anahtar Kelimeler"}),(0,a.jsx)("input",{type:"text",id:"meta_keywords",value:u.meta_keywords,onChange:e=>m(r=>({...r,meta_keywords:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"anahtar1, anahtar2, anahtar3"})]})]})]}),d&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,a.jsx)("p",{className:"text-red-800",children:d})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>e.push("/admin/resources"),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"İptal"}),(0,a.jsx)("button",{type:"submit",disabled:r,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Kaydediliyor...":"Haber Oluştur"})]})]})]})}},8676:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var a=t(7437),s=t(2265),l=t(6689),i=t(3524),n=t(7993);function o(e){let{value:r,onChange:t,label:o="Resim",className:d=""}=e,[c,u]=(0,s.useState)(!1),[m,g]=(0,s.useState)(!1),h=(0,s.useRef)(null),x=async e=>{if(!e.type.startsWith("image/")){alert("L\xfctfen sadece resim dosyası se\xe7in.");return}if(e.size>5242880){alert("Dosya boyutu 5MB'dan k\xfc\xe7\xfck olmalıdır.");return}u(!0);try{let a=new FormData;a.append("file",e);let s=await fetch("/api/upload",{method:"POST",body:a,credentials:"include"}),l=await s.json();if(console.log("Upload response:",l),l.success){var r;let e=(null===(r=l.data)||void 0===r?void 0:r.url)||l.url;console.log("Setting image URL:",e),t(e)}else alert(l.error||"Resim y\xfcklenirken hata oluştu.")}catch(e){console.error("Upload error:",e),alert("Resim y\xfcklenirken hata oluştu.")}finally{u(!1)}};return(0,a.jsxs)("div",{className:"space-y-4 ".concat(d),children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:o}),r&&(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:r,alt:"\xd6nizleme",className:"w-full h-48 object-cover rounded-lg border border-gray-200"}),(0,a.jsx)("button",{type:"button",onClick:()=>{t(""),h.current&&(h.current.value="")},className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors",children:(0,a.jsx)(l.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{onDrop:e=>{e.preventDefault(),g(!1);let r=Array.from(e.dataTransfer.files);r.length>0&&x(r[0])},onDragOver:e=>{e.preventDefault(),g(!0)},onDragLeave:()=>g(!1),className:"border-2 border-dashed rounded-lg p-6 text-center transition-colors ".concat(m?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[(0,a.jsx)("input",{ref:h,type:"file",accept:"image/*",onChange:e=>{let r=e.target.files;r&&r.length>0&&x(r[0])},className:"hidden"}),c?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Y\xfckleniyor..."})]}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Z,{className:"w-12 h-12 text-gray-400 mx-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{var e;return null===(e=h.current)||void 0===e?void 0:e.click()},className:"inline-flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Dosya Se\xe7"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"veya dosyayı s\xfcr\xfckleyip bırakın"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"PNG, JPG, JPEG, WebP (Max: 5MB)"})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-gray-50 text-gray-500",children:"veya URL girin"})})]}),(0,a.jsx)("input",{type:"text",value:r&&r.startsWith("data:")?"":r||"",onChange:e=>t(e.target.value),placeholder:"https://example.com/image.jpg veya /images/product.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}},622:function(e,r,t){"use strict";var a=t(2265),s=Symbol.for("react.element"),l=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,n=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function d(e,r,t){var a,l={},d=null,c=null;for(a in void 0!==t&&(d=""+t),void 0!==r.key&&(d=""+r.key),void 0!==r.ref&&(c=r.ref),r)i.call(r,a)&&!o.hasOwnProperty(a)&&(l[a]=r[a]);if(e&&e.defaultProps)for(a in r=e.defaultProps)void 0===l[a]&&(l[a]=r[a]);return{$$typeof:s,type:e,key:d,ref:c,props:l,_owner:n.current}}r.Fragment=l,r.jsx=d,r.jsxs=d},7437:function(e,r,t){"use strict";e.exports=t(622)},4033:function(e,r,t){e.exports=t(5313)},3753:function(e,r,t){"use strict";var a=t(2265);let s=a.forwardRef(function({title:e,titleId:r,...t},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))});r.Z=s},7993:function(e,r,t){"use strict";var a=t(2265);let s=a.forwardRef(function({title:e,titleId:r,...t},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))});r.Z=s},3949:function(e,r,t){"use strict";var a=t(2265);let s=a.forwardRef(function({title:e,titleId:r,...t},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 0 1-2.25 2.25M16.5 7.5V18a2.25 2.25 0 0 0 2.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 0 0 2.25 2.25h13.5M6 7.5h3v3H6v-3Z"}))});r.Z=s},3524:function(e,r,t){"use strict";var a=t(2265);let s=a.forwardRef(function({title:e,titleId:r,...t},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))});r.Z=s},6689:function(e,r,t){"use strict";var a=t(2265);let s=a.forwardRef(function({title:e,titleId:r,...t},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},t),e?a.createElement("title",{id:r},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))});r.Z=s}},function(e){e.O(0,[2971,4938,1744],function(){return e(e.s=8253)}),_N_E=e.O()}]);